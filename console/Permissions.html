<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <title>Mirai Console Backend - Permissions | mirai</title>
    <meta name="description" content="">
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="Mirai Project">
    <link rel="preload" href="/assets/css/0.styles.8a53cc28.css" as="style"><link rel="preload" href="/assets/js/app.0630bb2b.js" as="script"><link rel="preload" href="/assets/js/2.9d3940bb.js" as="script"><link rel="preload" href="/assets/js/26.1e8ca84e.js" as="script"><link rel="preload" href="/assets/js/3.71802cfc.js" as="script"><link rel="prefetch" href="/assets/js/10.27627c35.js"><link rel="prefetch" href="/assets/js/11.b7436b69.js"><link rel="prefetch" href="/assets/js/12.a48eb973.js"><link rel="prefetch" href="/assets/js/13.704b3b01.js"><link rel="prefetch" href="/assets/js/14.91ee9d3d.js"><link rel="prefetch" href="/assets/js/15.587bf681.js"><link rel="prefetch" href="/assets/js/16.31f8d50e.js"><link rel="prefetch" href="/assets/js/17.34c3c55a.js"><link rel="prefetch" href="/assets/js/18.9f0441e9.js"><link rel="prefetch" href="/assets/js/19.5a9aa48a.js"><link rel="prefetch" href="/assets/js/20.9570f3d2.js"><link rel="prefetch" href="/assets/js/21.1f5cbf3d.js"><link rel="prefetch" href="/assets/js/22.f2c1ad27.js"><link rel="prefetch" href="/assets/js/23.0025eceb.js"><link rel="prefetch" href="/assets/js/24.9288b391.js"><link rel="prefetch" href="/assets/js/25.063b1456.js"><link rel="prefetch" href="/assets/js/27.bb67f043.js"><link rel="prefetch" href="/assets/js/28.d381eb07.js"><link rel="prefetch" href="/assets/js/29.9d978b15.js"><link rel="prefetch" href="/assets/js/30.7fb7a639.js"><link rel="prefetch" href="/assets/js/31.5e922da3.js"><link rel="prefetch" href="/assets/js/32.09fec57f.js"><link rel="prefetch" href="/assets/js/33.74801ad6.js"><link rel="prefetch" href="/assets/js/34.7d454a51.js"><link rel="prefetch" href="/assets/js/4.0cbccfd1.js"><link rel="prefetch" href="/assets/js/5.74981209.js"><link rel="prefetch" href="/assets/js/6.f38e9957.js"><link rel="prefetch" href="/assets/js/7.909bf9fb.js"><link rel="prefetch" href="/assets/js/8.2b58c2f0.js"><link rel="prefetch" href="/assets/js/9.12a4bbdb.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8a53cc28.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="ant-row"><div class="sidebar-button"><i aria-label="icon: bars" class="anticon anticon-bars"><svg viewBox="0 0 1024 1024" focusable="false" data-icon="bars" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm0 284a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm0 284a56 56 0 1 0 112 0 56 56 0 1 0-112 0z"></path></svg></i> <span></span></div> <div class="ant-col ant-col-xs-24 ant-col-sm-24 ant-col-md-6 ant-col-lg-5 ant-col-xl-5 ant-col-xxl-4"><a href="/" class="router-link-active home-link"><img src="https://raw.githubusercontent.com/mamoe/mirai/dev/docs/mirai.png" alt="mirai" class="logo"> <span class="site-name">mirai</span></a> <div class="search-box mobile-search"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div> <div class="ant-col ant-col-xs-0 ant-col-sm-0 ant-col-md-18 ant-col-lg-19 ant-col-xl-19 ant-col-xxl-20"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><ul role="menu" id="nav" class="ant-menu ant-menu-horizontal ant-menu-root ant-menu-light"><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>Â·Â·Â·</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>
          mirai-core
        </span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>Â·Â·Â·</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-submenu-selected"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>
          mirai-console
        </span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="visibility:hidden;position:absolute;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>Â·Â·Â·</span><i class="ant-menu-submenu-arrow"></i></div></li></ul> <a href="https://github.com/mamoe/mirai" target="_blank" rel="noopener noreferrer" class="repo-link"><i aria-label="icon: github" class="anticon anticon-github"><svg viewBox="64 64 896 896" focusable="false" data-icon="github" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9a127.5 127.5 0 0 1 38.1 91v112.5c.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z"></path></svg></i></a></nav></div></div> <!----></header> <aside class="sidebar"><!----> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Mirai Console Backend - Permissions</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/console/Permissions.html#æƒé™" title="æƒé™" class="sidebar-link">æƒé™</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/console/Permissions.html#æƒé™-id" title="æƒé™ ID" class="sidebar-link">æƒé™ ID</a></li></ul></li><li><a href="/console/Permissions.html#è¢«è®¸å¯äºº" title="è¢«è®¸å¯äºº" class="sidebar-link">è¢«è®¸å¯äºº</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/console/Permissions.html#è¢«è®¸å¯äºº-id" title="è¢«è®¸å¯äºº ID" class="sidebar-link">è¢«è®¸å¯äºº ID</a></li><li class="sidebar-sub-header"><a href="/console/Permissions.html#è·å–è¢«è®¸å¯äºº" title="è·å–è¢«è®¸å¯äºº" class="sidebar-link">è·å–è¢«è®¸å¯äºº</a></li></ul></li><li><a href="/console/Permissions.html#æƒé™æœåŠ¡" title="æƒé™æœåŠ¡" class="sidebar-link">æƒé™æœåŠ¡</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/console/Permissions.html#åˆ¤æ–­æƒé™" title="åˆ¤æ–­æƒé™" class="sidebar-link">åˆ¤æ–­æƒé™</a></li><li class="sidebar-sub-header"><a href="/console/Permissions.html#æ³¨å†Œæƒé™" title="æ³¨å†Œæƒé™" class="sidebar-link">æ³¨å†Œæƒé™</a></li><li class="sidebar-sub-header"><a href="/console/Permissions.html#ä½¿ç”¨å†…ç½®æƒé™æœåŠ¡æŒ‡ä»¤" title="ä½¿ç”¨å†…ç½®æƒé™æœåŠ¡æŒ‡ä»¤" class="sidebar-link">ä½¿ç”¨å†…ç½®æƒé™æœåŠ¡æŒ‡ä»¤</a></li></ul></li></ul></section></li></ul></aside> <main class="page"> <div class="theme-antdocs-content content__default"><h1 id="mirai-console-backend-permissions"><a href="#mirai-console-backend-permissions" class="header-anchor">#</a> Mirai Console Backend - Permissions</h1> <p>æƒé™ç³»ç»Ÿã€‚</p> <h2 id="æƒé™"><a href="#æƒé™" class="header-anchor">#</a> æƒé™</h2> <p>æ¯ä¸ªæƒé™éƒ½ç”± <a href="https://github.com/mamoe/mirai-console/tree/master/backend/mirai-console/src/permission/Permission.kt" target="_blank" rel="noopener noreferrer"><code>Permission</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> å¯¹è±¡è¡¨ç¤ºã€‚</p> <p>ä¸€ä¸ª <a href="https://github.com/mamoe/mirai-console/tree/master/backend/mirai-console/src/permission/Permission.kt" target="_blank" rel="noopener noreferrer"><code>Permission</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> æ‹¥æœ‰è¿™äº›ä¿¡æ¯ï¼š</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">interface</span> Permission <span class="token punctuation">{</span>
    <span class="token keyword">val</span> id<span class="token operator">:</span> PermissionId <span class="token comment">// å”¯ä¸€è¯†åˆ« ID</span>
    <span class="token keyword">val</span> description<span class="token operator">:</span> String <span class="token comment">// æè¿°ä¿¡æ¯</span>
    <span class="token keyword">val</span> parent<span class="token operator">:</span> Permission <span class="token comment">// çˆ¶æƒé™</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>ã€Œæƒé™ã€è¡¨ç¤ºçš„æ„ä¹‰æ˜¯ â€œåšä¸€é¡¹å·¥ä½œçš„èƒ½åŠ›â€ã€‚å¦‚ â€œæ‰§è¡ŒæŒ‡ä»¤ /stopâ€ï¼Œâ€œæ“ä½œæ•°æ®åº“â€ éƒ½å«ä½œæƒé™ã€‚</p> <p><a href="https://github.com/mamoe/mirai-console/tree/master/backend/mirai-console/src/permission/Permission.kt" target="_blank" rel="noopener noreferrer"><code>Permission</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> å¯¹è±¡ç”± Console å†…ç½®æˆ–è€…ç”±ç‰¹å®šæƒé™æ’ä»¶å®ç°ã€‚å…¶ä»–æ’ä»¶ä¸èƒ½å®ç° <a href="https://github.com/mamoe/mirai-console/tree/master/backend/mirai-console/src/permission/Permission.kt" target="_blank" rel="noopener noreferrer"><code>Permission</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> æ¥å£ï¼Œåªèƒ½ä» <code>PermissionService</code> æ³¨å†Œå¹¶è·å–ã€‚</p> <h3 id="æƒé™-id"><a href="#æƒé™-id" class="header-anchor">#</a> æƒé™ ID</h3> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">data</span> <span class="token keyword">class</span> <span class="token function">PermissionId</span><span class="token punctuation">(</span>
    <span class="token keyword">val</span> namespace<span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token comment">// å‘½åç©ºé—´</span>
    <span class="token keyword">val</span> name<span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token comment">// åç§°</span>
<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><a href="https://github.com/mamoe/mirai-console/tree/master/backend/mirai-console/src/permission/PermissionId.kt" target="_blank" rel="noopener noreferrer"><code>PermissionId</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> æ˜¯ <a href="https://github.com/mamoe/mirai-console/tree/master/backend/mirai-console/src/permission/Permission.kt" target="_blank" rel="noopener noreferrer"><code>Permission</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> çš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚çŸ¥é“ <a href="https://github.com/mamoe/mirai-console/tree/master/backend/mirai-console/src/permission/PermissionId.kt" target="_blank" rel="noopener noreferrer"><code>PermissionId</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> å°±å¯ä»¥è·å–åˆ°å¯¹åº”çš„ <a href="https://github.com/mamoe/mirai-console/tree/master/backend/mirai-console/src/permission/Permission.kt" target="_blank" rel="noopener noreferrer"><code>Permission</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</p> <p>å­—ç¬¦ä¸²è¡¨ç¤ºä¸º &quot;$namespace:$name&quot;ï¼Œå¦‚ &quot;console:command.stop&quot;, &quot;*ğŸ˜—&quot;</p> <h4 id="å‘½åç©ºé—´"><a href="#å‘½åç©ºé—´" class="header-anchor">#</a> å‘½åç©ºé—´</h4> <p>å‘½åç©ºé—´ï¼ˆâ€œnamespaceâ€ï¼‰ç”¨äºé™å®šæƒé™çš„åˆ›å»ºè€…ï¼Œé¿å…å†²çªã€‚</p> <p>ä¸€äº›å¸¸è§å‘½åç©ºé—´ï¼š</p> <table><thead><tr><th style="text-align:left;">ç”¨é€”</th> <th style="text-align:left;">å‘½åç©ºé—´</th></tr></thead> <tbody><tr><td style="text-align:left;">æ ¹æƒé™</td> <td style="text-align:left;"><code>&quot;*&quot;</code></td></tr> <tr><td style="text-align:left;">Console å†…ç½®</td> <td style="text-align:left;"><code>&quot;console&quot;</code></td></tr> <tr><td style="text-align:left;">ID ä¸º A çš„æ’ä»¶</td> <td style="text-align:left;"><code>&quot;A&quot;</code></td></tr></tbody></table> <h4 id="åç§°"><a href="#åç§°" class="header-anchor">#</a> åç§°</h4> <p>åç§°åˆ™è¡¨ç¤ºç‰¹å®šçš„å«ä¹‰ã€‚å¦‚ä¸€ä¸ªæŒ‡ä»¤ï¼ŒæŸä¸€é¡¹æ“ä½œç­‰ã€‚</p> <p>ä¸€äº›å¸¸è§åç§°ï¼š</p> <table><thead><tr><th style="text-align:left;">ç”¨é€”</th> <th style="text-align:left;">åç§°</th></tr></thead> <tbody><tr><td style="text-align:left;">æ ¹æƒé™</td> <td style="text-align:left;"><code>&quot;*&quot;</code></td></tr> <tr><td style="text-align:left;">Console å†…ç½®çš„åä¸º A çš„æŒ‡ä»¤</td> <td style="text-align:left;"><code>&quot;command.A&quot;</code></td></tr> <tr><td style="text-align:left;">ID ä¸º A çš„æ’ä»¶çš„åä¸º B çš„æŒ‡ä»¤</td> <td style="text-align:left;"><code>&quot;command.B&quot;</code></td></tr></tbody></table> <h4 id="æ ¹æƒé™"><a href="#æ ¹æƒé™" class="header-anchor">#</a> æ ¹æƒé™</h4> <p><a href="https://github.com/mamoe/mirai-console/tree/master/backend/mirai-console/src/permission/Permission.kt#L82" target="_blank" rel="noopener noreferrer"><code>RootPermission</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> æ˜¯æ‰€æœ‰æƒé™çš„çˆ¶æƒé™ã€‚å…¶ ID ä¸º &quot;*ğŸ˜—&quot;</p> <h2 id="è¢«è®¸å¯äºº"><a href="#è¢«è®¸å¯äºº" class="header-anchor">#</a> è¢«è®¸å¯äºº</h2> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">interface</span> Permittee <span class="token punctuation">{</span>
    <span class="token keyword">val</span> permitteeId<span class="token operator">:</span> PermitteeId
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><a href="https://github.com/mamoe/mirai-console/tree/master/backend/mirai-console/src/permission/Permittee.kt" target="_blank" rel="noopener noreferrer"><code>Permittee</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> è¡¨ç¤ºä¸€ä¸ªå¯è¢«èµ‹äºˆæƒé™çš„å¯¹è±¡ï¼Œå³ 'è¢«è®¸å¯äºº'ã€‚</p> <p><a href="https://github.com/mamoe/mirai-console/tree/master/backend/mirai-console/src/command/CommandSender.kt" target="_blank" rel="noopener noreferrer"><code>CommandSender</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> å®ç° <a href="https://github.com/mamoe/mirai-console/tree/master/backend/mirai-console/src/permission/Permittee.kt" target="_blank" rel="noopener noreferrer"><code>Permittee</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</p> <p>è¢«è®¸å¯äººè‡ªèº«ä¸æŒæœ‰æ‹¥æœ‰çš„æƒé™åˆ—è¡¨ï¼Œè€Œæ˜¯æ‹¥æœ‰ <a href="https://github.com/mamoe/mirai-console/tree/master/backend/mirai-console/src/permission/PermitteeId.kt" target="_blank" rel="noopener noreferrer"><code>PermitteeId</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ï¼Œæ ‡è¯†è‡ªå·±çš„èº«ä»½ï¼Œä¾› <a href="https://github.com/mamoe/mirai-console/tree/master/backend/mirai-console/src/permission/PermissionService.kt" target="_blank" rel="noopener noreferrer">æƒé™æœåŠ¡<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> å¤„ç†ã€‚</p> <p><strong>æ³¨æ„</strong>ï¼šè¯·ä¸è¦è‡ªä¸»å®ç° <a href="https://github.com/mamoe/mirai-console/tree/master/backend/mirai-console/src/permission/Permittee.kt" target="_blank" rel="noopener noreferrer"><code>Permittee</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</p> <h3 id="è¢«è®¸å¯äºº-id"><a href="#è¢«è®¸å¯äºº-id" class="header-anchor">#</a> è¢«è®¸å¯äºº ID</h3> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">interface</span> PermitteeId <span class="token punctuation">{</span>
    <span class="token keyword">val</span> directParents<span class="token operator">:</span> Array<span class="token operator">&lt;</span><span class="token keyword">out</span> PermitteeId<span class="token operator">&gt;</span> <span class="token comment">// ç›´æ¥çˆ¶å¯¹è±¡</span>
    <span class="token keyword">fun</span> <span class="token function">asString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> String <span class="token comment">// è½¬æ¢ä¸ºå­—ç¬¦ä¸²è¡¨ç¤º</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><a href="https://github.com/mamoe/mirai-console/tree/master/backend/mirai-console/src/permission/PermitteeId.kt" target="_blank" rel="noopener noreferrer"><code>PermitteeId</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> æ˜¯è¢«è®¸å¯äººçš„æ ‡è¯†ç¬¦ã€‚</p> <p>ä¸€ä¸ªè¿™æ ·çš„æ ‡è¯†ç¬¦å³å¯ä»£è¡¨ç‰¹å®šçš„å•ä¸ª <a href="https://github.com/mamoe/mirai-console/tree/master/backend/mirai-console/src/permission/Permittee.kt" target="_blank" rel="noopener noreferrer"><code>Permittee</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, ä¹Ÿå¯ä»¥è¡¨ç¤ºå¤šä¸ªåŒç±» <a href="https://github.com/mamoe/mirai-console/tree/master/backend/mirai-console/src/permission/Permittee.kt" target="_blank" rel="noopener noreferrer"><code>Permittee</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h4 id="directparents"><a href="#directparents" class="header-anchor">#</a> <code>directParents</code></h4> <p><a href="https://github.com/mamoe/mirai-console/tree/master/backend/mirai-console/src/permission/PermitteeId.kt" target="_blank" rel="noopener noreferrer"><code>PermitteeId</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> å…è®¸æ‹¥æœ‰å¤šä¸ªçˆ¶å¯¹è±¡ã€‚åœ¨æ£€æŸ¥æƒé™æ—¶ä¼šé¦–å…ˆæ£€æŸ¥è‡ªå·±, å†é€’å½’æ£€æŸ¥çˆ¶ç±»ã€‚</p> <h4 id="è¡ç”Ÿç±»å‹"><a href="#è¡ç”Ÿç±»å‹" class="header-anchor">#</a> è¡ç”Ÿç±»å‹</h4> <p><a href="https://github.com/mamoe/mirai-console/tree/master/backend/mirai-console/src/permission/PermitteeId.kt" target="_blank" rel="noopener noreferrer"><code>PermitteeId</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> çš„å®ç°é€šå¸¸æ˜¯ <a href="https://github.com/mamoe/mirai-console/tree/master/backend/mirai-console/src/permission/PermitteeId.kt#L77" target="_blank" rel="noopener noreferrer"><code>AbstractPermitteeId</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>åœ¨ <a href="https://github.com/mamoe/mirai-console/tree/master/backend/mirai-console/src/permission/PermitteeId.kt#L77" target="_blank" rel="noopener noreferrer"><code>AbstractPermitteeId</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> æŸ¥çœ‹å…¶å­ç±»ã€‚</p> <h4 id="å­—ç¬¦ä¸²è¡¨ç¤º"><a href="#å­—ç¬¦ä¸²è¡¨ç¤º" class="header-anchor">#</a> å­—ç¬¦ä¸²è¡¨ç¤º</h4> <p>å½“ä½¿ç”¨ <code>PermitteeId.asString</code> æ—¶, ä¸åŒçš„ç±»å‹çš„è¿”å›å€¼å¦‚ä¸‹è¡¨æ‰€ç¤º. è¿™äº›æ ¼å¼ä¹Ÿé€‚ç”¨äº <a href="#%E4%BD%BF%E7%94%A8%E5%86%85%E7%BD%AE%E6%9D%83%E9%99%90%E6%9C%8D%E5%8A%A1%E6%8C%87%E4%BB%A4">æƒé™æŒ‡ä»¤</a>.<br>
(ä¸åŒºåˆ†å¤§å°å†™. ä¸åŒºåˆ† Bot).</p> <table><thead><tr><th style="text-align:center;">è¢«è®¸å¯äººç±»å‹</th> <th style="text-align:center;">å­—ç¬¦ä¸²è¡¨ç¤ºç¤ºä¾‹</th> <th style="text-align:left;">å¤‡æ³¨</th></tr></thead> <tbody><tr><td style="text-align:center;">æ§åˆ¶å°</td> <td style="text-align:center;">console</td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:center;">ä»»æ„å…¶ä»–å®¢æˆ·ç«¯</td> <td style="text-align:center;">client*</td> <td style="text-align:left;">å³ Bot è‡ªå·±å‘æ¶ˆæ¯ç»™è‡ªå·±</td></tr> <tr><td style="text-align:center;">ç²¾ç¡®ç¾¤</td> <td style="text-align:center;">g123456</td> <td style="text-align:left;">è¡¨ç¤ºç¾¤, è€Œä¸è¡¨ç¤ºç¾¤æˆå‘˜</td></tr> <tr><td style="text-align:center;">ç²¾ç¡®å¥½å‹</td> <td style="text-align:center;">f123456</td> <td style="text-align:left;">å¿…é¡»é€šè¿‡å¥½å‹æ¶ˆæ¯</td></tr> <tr><td style="text-align:center;">ç²¾ç¡®ç¾¤ä¸´æ—¶ä¼šè¯</td> <td style="text-align:center;">t123456.789</td> <td style="text-align:left;">ç¾¤ 123456 å†…çš„æˆå‘˜ 789. å¿…é¡»é€šè¿‡ä¸´æ—¶ä¼šè¯</td></tr> <tr><td style="text-align:center;">ç²¾ç¡®ç¾¤æˆå‘˜</td> <td style="text-align:center;">m123456.789</td> <td style="text-align:left;">ç¾¤ 123456 å†…çš„æˆå‘˜ 789. åŒæ—¶åŒ…å«ä¸´æ—¶ä¼šè¯</td></tr> <tr><td style="text-align:center;">ç²¾ç¡®ç”¨æˆ·</td> <td style="text-align:center;">u123456</td> <td style="text-align:left;">åŒæ—¶åŒ…å«ç¾¤æˆå‘˜, å¥½å‹, ä¸´æ—¶ä¼šè¯</td></tr> <tr><td style="text-align:center;">ä»»æ„ç¾¤</td> <td style="text-align:center;">g*</td> <td style="text-align:left;">g æ„ä¸º group</td></tr> <tr><td style="text-align:center;">ä»»æ„ç¾¤çš„ä»»æ„ç¾¤å‘˜</td> <td style="text-align:center;">m*</td> <td style="text-align:left;">m æ„ä¸º member</td></tr> <tr><td style="text-align:center;">ç²¾ç¡®ç¾¤çš„ä»»æ„ç¾¤å‘˜</td> <td style="text-align:center;">m123456.*</td> <td style="text-align:left;">ç¾¤ 123456 å†…çš„ä»»æ„æˆå‘˜. åŒæ—¶åŒ…å«ä¸´æ—¶ä¼šè¯</td></tr> <tr><td style="text-align:center;">ä»»æ„ä¸´æ—¶ä¼šè¯</td> <td style="text-align:center;">t*</td> <td style="text-align:left;">t æ„ä¸º temp. å¿…é¡»é€šè¿‡ä¸´æ—¶ä¼šè¯</td></tr> <tr><td style="text-align:center;">ç²¾ç¡®ç¾¤çš„ä»»æ„ä¸´æ—¶ä¼šè¯</td> <td style="text-align:center;">t123456.*</td> <td style="text-align:left;">ç¾¤ 123456 å†…çš„ä»»æ„æˆå‘˜. å¿…é¡»é€šè¿‡ä¸´æ—¶ä¼šè¯</td></tr> <tr><td style="text-align:center;">ä»»æ„å¥½å‹</td> <td style="text-align:center;">f*</td> <td style="text-align:left;">f æ„ä¸º friend</td></tr> <tr><td style="text-align:center;">ä»»æ„ç”¨æˆ·</td> <td style="text-align:center;">u*</td> <td style="text-align:left;">u æ„ä¸º user. ä»»ä½•äººåœ¨ä»»ä½•ç¯å¢ƒ</td></tr> <tr><td style="text-align:center;">ä»»æ„é™Œç”Ÿäºº</td> <td style="text-align:center;">s*</td> <td style="text-align:left;">s æ„ä¸º stranger. ä»»ä½•äººåœ¨ä»»ä½•ç¯å¢ƒ</td></tr> <tr><td style="text-align:center;">ä»»æ„è”ç³»å¯¹è±¡</td> <td style="text-align:center;">*</td> <td style="text-align:left;">å³ä»»ä½•äºº, ä»»ä½•ç¾¤. ä¸åŒ…æ‹¬æ§åˆ¶å°</td></tr></tbody></table> <h3 id="è·å–è¢«è®¸å¯äºº"><a href="#è·å–è¢«è®¸å¯äºº" class="header-anchor">#</a> è·å–è¢«è®¸å¯äºº</h3> <p>åœ¨ Kotlin é€šå¸¸ä½¿ç”¨ <code>CommandSender.permitteeId</code>ï¼Œåœ¨ Java ä½¿ç”¨ <code>CommandSender.getPermitteeId( )</code>ã€‚<br>
ä¹Ÿå¯ä»¥ç›´æ¥æ„é€  <a href="https://github.com/mamoe/mirai-console/tree/master/backend/mirai-console/src/permission/PermitteeId.kt#L77" target="_blank" rel="noopener noreferrer"><code>AbstractPermitteeId</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> çš„å­ç±»ã€‚æˆ–è€…åœ¨ Kotlin ä½¿ç”¨æ‰©å±• <code>User.permitteeId</code>ã€‚</p> <h2 id="æƒé™æœåŠ¡"><a href="#æƒé™æœåŠ¡" class="header-anchor">#</a> æƒé™æœåŠ¡</h2> <p><a href="https://github.com/mamoe/mirai-console/tree/master/backend/mirai-console/src/permission/PermissionService.kt" target="_blank" rel="noopener noreferrer"><code>PermissionService</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> æ‰¿è½½æƒé™çš„æˆæƒå’Œç®¡ç†ã€‚Console å†…ç½®ä¸€ä¸ªå®ç°ï¼Œè€Œæƒé™æœåŠ¡å¯ä»¥ç”±æ’ä»¶æä¾›ï¼ˆè§ <a href="/console/Extensions.html">æ‰©å±•</a>ï¼‰ã€‚</p> <h3 id="åˆ¤æ–­æƒé™"><a href="#åˆ¤æ–­æƒé™" class="header-anchor">#</a> åˆ¤æ–­æƒé™</h3> <p>åœ¨ Kotlinï¼Œåœ¨è¯¥æœ‰æ‰©å±•çš„å¯¹è±¡ä¸Š Console éƒ½ä¸ºå®ƒä»¬å®ç°äº†æ‰©å±•ã€‚å¯ä»¥ä½¿ç”¨ï¼š</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">fun</span> Permittee<span class="token punctuation">.</span><span class="token function">hasPermission</span><span class="token punctuation">(</span>Permission<span class="token punctuation">)</span><span class="token operator">:</span> Boolean
<span class="token keyword">fun</span> Permission<span class="token punctuation">.</span><span class="token function">testPermission</span><span class="token punctuation">(</span>Permittee<span class="token punctuation">)</span><span class="token operator">:</span> Boolean
<span class="token keyword">fun</span> PermitteeId<span class="token punctuation">.</span><span class="token function">hasPermission</span><span class="token punctuation">(</span>Permission<span class="token punctuation">)</span><span class="token operator">:</span> Boolean
<span class="token keyword">fun</span> PermissionId<span class="token punctuation">.</span><span class="token function">testPermission</span><span class="token punctuation">(</span>Permittee<span class="token punctuation">)</span><span class="token operator">:</span> Boolean
<span class="token keyword">fun</span> Permittee<span class="token punctuation">.</span><span class="token function">hasPermission</span><span class="token punctuation">(</span>PermissionId<span class="token punctuation">)</span><span class="token operator">:</span> Boolean
<span class="token keyword">fun</span> Permission<span class="token punctuation">.</span><span class="token function">testPermission</span><span class="token punctuation">(</span>PermitteeId<span class="token punctuation">)</span><span class="token operator">:</span> Boolean
<span class="token comment">// ... </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>åœ¨ Javaï¼Œè¯·æŸ¥çœ‹ <a href="https://github.com/mamoe/mirai-console/tree/master/backend/mirai-console/src/permission/PermissionService.kt" target="_blank" rel="noopener noreferrer"><code>PermissionService</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ä¸­çš„ä¼´ç”Ÿå¯¹è±¡ã€‚</p> <h3 id="æ³¨å†Œæƒé™"><a href="#æ³¨å†Œæƒé™" class="header-anchor">#</a> æ³¨å†Œæƒé™</h3> <p>æ¯ä¸€æ¡æŒ‡ä»¤éƒ½ä¼šé»˜è®¤è‡ªåŠ¨åˆ›å»ºä¸€ä¸ªæƒé™ã€‚</p> <p>å¦‚æœå¸Œæœ›æ‰‹åŠ¨æ³¨å†Œä¸€ä¸ªå…¶ä»–ç”¨é€”çš„æƒé™ï¼Œä½¿ç”¨ <code>PermissionService.register</code>ã€‚</p> <p><strong>æ³¨æ„</strong>ï¼šæƒé™åªèƒ½åœ¨æ’ä»¶ <a href="/console/Plugins.html#å¯ç”¨">å¯ç”¨</a> ä¹‹åæ‰èƒ½æ³¨å†Œã€‚å¦åˆ™ä¼šå¾—åˆ°ä¸€ä¸ªå¼‚å¸¸ã€‚</p> <h3 id="ä½¿ç”¨å†…ç½®æƒé™æœåŠ¡æŒ‡ä»¤"><a href="#ä½¿ç”¨å†…ç½®æƒé™æœåŠ¡æŒ‡ä»¤" class="header-anchor">#</a> ä½¿ç”¨å†…ç½®æƒé™æœåŠ¡æŒ‡ä»¤</h3> <p><strong>æŒ‡ä»¤</strong>: &quot;/permission&quot;, &quot;/perm&quot;, &quot;/æƒé™&quot;</p> <p>ä½¿ç”¨æŒ‡ä»¤è€Œä¸å¸¦å‚æ•°å¯ä»¥è·å–å¦‚ä¸‹ç”¨æ³•ï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>/permission cancel &lt;è¢«è®¸å¯äºº ID&gt; &lt;æƒé™ ID&gt;   å–æ¶ˆæˆæƒä¸€ä¸ªæƒé™
/permission cancelall &lt;è¢«è®¸å¯äºº ID&gt; &lt;æƒé™ ID&gt;   å–æ¶ˆæˆæƒä¸€ä¸ªæƒé™åŠå…¶æ‰€æœ‰å­æƒé™
/permission listpermissions    æŸ¥çœ‹æ‰€æœ‰æƒé™åˆ—è¡¨
/permission permit &lt;è¢«è®¸å¯äºº ID&gt; &lt;æƒé™ ID&gt;   æˆæƒä¸€ä¸ªæƒé™
/permission permittedpermissions &lt;è¢«è®¸å¯äºº ID&gt;   æŸ¥çœ‹è¢«æˆæƒæƒé™åˆ—è¡¨
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>å…¶ä¸­, è¢«è®¸å¯äºº ID ä½¿ç”¨ <a href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%A1%A8%E7%A4%BA">å­—ç¬¦ä¸²è¡¨ç¤º</a>, æƒé™ ID å‚è§ <a href="#%E6%9D%83%E9%99%90-id">æƒé™ ID</a></p> <hr> <blockquote><p>è¿™æ˜¯æ–‡æ¡£çš„æœ€åä¸€ä¸ªç« èŠ‚ã€‚</p> <p>è¿”å› <a href="/console/#mirai-console">å¼€å‘æ–‡æ¡£ç´¢å¼•</a></p></blockquote></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main> <!----></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.0630bb2b.js" defer></script><script src="/assets/js/2.9d3940bb.js" defer></script><script src="/assets/js/26.1e8ca84e.js" defer></script><script src="/assets/js/3.71802cfc.js" defer></script>
  </body>
</html>