<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.48">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>贡献 | mirai</title><meta name="description" content="Mirai Project">
    <link rel="modulepreload" href="/assets/app.e657f2e4.js"><link rel="modulepreload" href="/assets/index.html.42245a84.js"><link rel="modulepreload" href="/assets/index.html.00fc025c.js"><link rel="prefetch" href="/assets/Bots.html.4e2868d9.js"><link rel="prefetch" href="/assets/ConciseAPI.html.a7d78756.js"><link rel="prefetch" href="/assets/ConfiguringProjects.html.5c8949fa.js"><link rel="prefetch" href="/assets/ConsoleTerminal.html.f3c65212.js"><link rel="prefetch" href="/assets/Contacts.html.2780bb26.js"><link rel="prefetch" href="/assets/CoreAPI.html.8e308f7a.js"><link rel="prefetch" href="/assets/DebuggingNetwork.html.0053a429.js"><link rel="prefetch" href="/assets/EventList.html.40413e00.js"><link rel="prefetch" href="/assets/Events.html.ff67a963.js"><link rel="prefetch" href="/assets/Evolution.html.7ec2ba1c.js"><link rel="prefetch" href="/assets/KotlinAndJava.html.ea914b75.js"><link rel="prefetch" href="/assets/Messages.html.97e42be7.js"><link rel="prefetch" href="/assets/MigrationFrom1x.html.832d13fd.js"><link rel="prefetch" href="/assets/Preparations.html.51671e23.js"><link rel="prefetch" href="/assets/index.html.d1fd7fad.js"><link rel="prefetch" href="/assets/UserManual.html.70063bd3.js"><link rel="prefetch" href="/assets/UsingSnapshots.html.57cabb94.js"><link rel="prefetch" href="/assets/mirai-ecology.html.37829cd0.js"><link rel="prefetch" href="/assets/Appendix.html.29bccdb2.js"><link rel="prefetch" href="/assets/BuiltInCommands.html.50cbfaf5.js"><link rel="prefetch" href="/assets/Commands.html.044a3aa8.js"><link rel="prefetch" href="/assets/ConfiguringProjects.html.2e1b8301.js"><link rel="prefetch" href="/assets/Contributing.html.d60209a9.js"><link rel="prefetch" href="/assets/Extensions.html.32ddc646.js"><link rel="prefetch" href="/assets/FrontEnd.html.c513236d.js"><link rel="prefetch" href="/assets/Logging.html.a6570352.js"><link rel="prefetch" href="/assets/Permissions.html.e321d525.js"><link rel="prefetch" href="/assets/PluginData.html.a0e22eb9.js"><link rel="prefetch" href="/assets/QA.html.6eeef55b.js"><link rel="prefetch" href="/assets/index.html.c596c4e8.js"><link rel="prefetch" href="/assets/Run.html.3b02c91d.js"><link rel="prefetch" href="/assets/BuildingCore.html.31fe91e2.js"><link rel="prefetch" href="/assets/ImplementingProtocol.html.8d36dd39.js"><link rel="prefetch" href="/assets/VerifyingABI.html.a6ab27d6.js"><link rel="prefetch" href="/assets/Module.html.30cd0774.js"><link rel="prefetch" href="/assets/Plugin.html.b0e169e3.js"><link rel="prefetch" href="/assets/index.html.d7c9f215.js"><link rel="prefetch" href="/assets/index.html.3c570d43.js"><link rel="prefetch" href="/assets/index.html.b0de09ee.js"><link rel="prefetch" href="/assets/Contacts.mermaid.html.a1ebcdf8.js"><link rel="prefetch" href="/assets/Messages.mermaid.html.1ceae85b.js"><link rel="prefetch" href="/assets/JVMPlugin-Appendix.html.30503fd0.js"><link rel="prefetch" href="/assets/JVMPlugin-DataExchange.html.e3bd96d2.js"><link rel="prefetch" href="/assets/JVMPlugin-Debug.html.1373b734.js"><link rel="prefetch" href="/assets/JVMPlugin.html.00b48355.js"><link rel="prefetch" href="/assets/Plugins.html.f9e73a66.js"><link rel="prefetch" href="/assets/Adapter.html.e3609f9a.js"><link rel="prefetch" href="/assets/CustomizedAdapter.html.d79ece6c.js"><link rel="prefetch" href="/assets/HttpAdapter.html.5d1ccc04.js"><link rel="prefetch" href="/assets/ReverseWebsocketAdapter.html.fd95e5ae.js"><link rel="prefetch" href="/assets/WebhookAdapter.html.043a9c43.js"><link rel="prefetch" href="/assets/WebsocketAdapter.html.6a90e3d7.js"><link rel="prefetch" href="/assets/API.html.ea4addf9.js"><link rel="prefetch" href="/assets/EventType.html.9223bbb6.js"><link rel="prefetch" href="/assets/MessageType.html.97ab6b0a.js"><link rel="prefetch" href="/assets/Migration2.html.d51f268d.js"><link rel="prefetch" href="/assets/404.html.7d858b3d.js"><link rel="prefetch" href="/assets/Bots.html.845716ff.js"><link rel="prefetch" href="/assets/ConciseAPI.html.2d5366bb.js"><link rel="prefetch" href="/assets/ConfiguringProjects.html.7eaf3160.js"><link rel="prefetch" href="/assets/ConsoleTerminal.html.fe28b372.js"><link rel="prefetch" href="/assets/Contacts.html.522bdec9.js"><link rel="prefetch" href="/assets/CoreAPI.html.435def7c.js"><link rel="prefetch" href="/assets/DebuggingNetwork.html.4070a1e8.js"><link rel="prefetch" href="/assets/EventList.html.d71d1d41.js"><link rel="prefetch" href="/assets/Events.html.ed5a7d7f.js"><link rel="prefetch" href="/assets/Evolution.html.0bf65b45.js"><link rel="prefetch" href="/assets/KotlinAndJava.html.cbb000d5.js"><link rel="prefetch" href="/assets/Messages.html.e2a90675.js"><link rel="prefetch" href="/assets/MigrationFrom1x.html.91542b5d.js"><link rel="prefetch" href="/assets/Preparations.html.14bfe005.js"><link rel="prefetch" href="/assets/index.html.2a080f5f.js"><link rel="prefetch" href="/assets/UserManual.html.a7bb0605.js"><link rel="prefetch" href="/assets/UsingSnapshots.html.1664f86a.js"><link rel="prefetch" href="/assets/mirai-ecology.html.4d08e80e.js"><link rel="prefetch" href="/assets/Appendix.html.c14e3437.js"><link rel="prefetch" href="/assets/BuiltInCommands.html.6480dbc2.js"><link rel="prefetch" href="/assets/Commands.html.a414d9c2.js"><link rel="prefetch" href="/assets/ConfiguringProjects.html.e581e27c.js"><link rel="prefetch" href="/assets/Contributing.html.90d954c7.js"><link rel="prefetch" href="/assets/Extensions.html.33e045ce.js"><link rel="prefetch" href="/assets/FrontEnd.html.7fedf04e.js"><link rel="prefetch" href="/assets/Logging.html.e4311869.js"><link rel="prefetch" href="/assets/Permissions.html.a9648ed4.js"><link rel="prefetch" href="/assets/PluginData.html.8632976d.js"><link rel="prefetch" href="/assets/QA.html.7c6e6600.js"><link rel="prefetch" href="/assets/index.html.8e9e2557.js"><link rel="prefetch" href="/assets/Run.html.a0f82ff8.js"><link rel="prefetch" href="/assets/BuildingCore.html.d80c55d3.js"><link rel="prefetch" href="/assets/ImplementingProtocol.html.aac70fac.js"><link rel="prefetch" href="/assets/VerifyingABI.html.228700f8.js"><link rel="prefetch" href="/assets/Module.html.2a7a65b6.js"><link rel="prefetch" href="/assets/Plugin.html.1c3f4ea8.js"><link rel="prefetch" href="/assets/index.html.77d7b278.js"><link rel="prefetch" href="/assets/index.html.ce69b418.js"><link rel="prefetch" href="/assets/index.html.feb31471.js"><link rel="prefetch" href="/assets/Contacts.mermaid.html.4a83727a.js"><link rel="prefetch" href="/assets/Messages.mermaid.html.6e08ac0d.js"><link rel="prefetch" href="/assets/JVMPlugin-Appendix.html.6ff58102.js"><link rel="prefetch" href="/assets/JVMPlugin-DataExchange.html.d4586993.js"><link rel="prefetch" href="/assets/JVMPlugin-Debug.html.364d166b.js"><link rel="prefetch" href="/assets/JVMPlugin.html.59955ab5.js"><link rel="prefetch" href="/assets/Plugins.html.b474679e.js"><link rel="prefetch" href="/assets/Adapter.html.a493319e.js"><link rel="prefetch" href="/assets/CustomizedAdapter.html.d9131130.js"><link rel="prefetch" href="/assets/HttpAdapter.html.daf39291.js"><link rel="prefetch" href="/assets/ReverseWebsocketAdapter.html.5d025f68.js"><link rel="prefetch" href="/assets/WebhookAdapter.html.eb4f3a92.js"><link rel="prefetch" href="/assets/WebsocketAdapter.html.c9c15ac3.js"><link rel="prefetch" href="/assets/API.html.2e58580b.js"><link rel="prefetch" href="/assets/EventType.html.4e2ad991.js"><link rel="prefetch" href="/assets/MessageType.html.c90fe7e0.js"><link rel="prefetch" href="/assets/Migration2.html.75dc7139.js"><link rel="prefetch" href="/assets/404.html.fcee4ea0.js"><link rel="prefetch" href="/assets/404.5c4c7b92.js"><link rel="prefetch" href="/assets/Layout.549a5435.js">
    <link rel="stylesheet" href="/assets/style.24c55b2e.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="/mirai.png" alt="mirai"><span class="site-name can-hide">mirai</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="mirai-core"><span class="title">mirai-core</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="mirai-core"><span class="title">mirai-core</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/" class="" aria-label="Index"><!--[--><!--]--> Index <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mirai-ecology.html" class="" aria-label="Mirai 生态概览"><!--[--><!--]--> Mirai 生态概览 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/MigrationFrom1x.html" class="" aria-label="从 1.x 迁移"><!--[--><!--]--> 从 1.x 迁移 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/UserManual.html" class="" aria-label="用户手册"><!--[--><!--]--> 用户手册 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ConsoleTerminal.html" class="" aria-label="用户手册 - 控制台"><!--[--><!--]--> 用户手册 - 控制台 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Preparations.html" class="" aria-label="JVM 环境和开发准备工作"><!--[--><!--]--> JVM 环境和开发准备工作 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ConfiguringProjects.html" class="" aria-label="配置项目"><!--[--><!--]--> 配置项目 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>CoreAPI</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/CoreAPI.html" class="" aria-label="CoreAPI"><!--[--><!--]--> CoreAPI <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/Bots.html" class="" aria-label="机器人"><!--[--><!--]--> 机器人 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/Contacts.html" class="" aria-label="联系人"><!--[--><!--]--> 联系人 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/Events.html" class="" aria-label="事件"><!--[--><!--]--> 事件 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/Messages.html" class="" aria-label="消息"><!--[--><!--]--> 消息 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Misc</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/ConciseAPI.html" class="" aria-label="主要API"><!--[--><!--]--> 主要API <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/Evolution.html" class="" aria-label="Mirai - Evolution"><!--[--><!--]--> Mirai - Evolution <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/KotlinAndJava.html" class="" aria-label="Kotlin &amp; Java"><!--[--><!--]--> Kotlin &amp; Java <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/EventList.html" class="" aria-label="事件列表"><!--[--><!--]--> 事件列表 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DebuggingNetwork.html" class="" aria-label="Debugging Network"><!--[--><!--]--> Debugging Network <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/UsingSnapshots.html" class="" aria-label="Using Dev Snapshots"><!--[--><!--]--> Using Dev Snapshots <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="mirai-console"><span class="title">mirai-console</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="mirai-console"><span class="title">mirai-console</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/console/" class="" aria-label="Index"><!--[--><!--]--> Index <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/console/ConfiguringProjects.html" class="" aria-label="配置项目"><!--[--><!--]--> 配置项目 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/console/Run.html" class="" aria-label="启动 Console"><!--[--><!--]--> 启动 Console <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>后端插件开发基础</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/console/plugin/Plugins.html" class="" aria-label="插件 - Plugin 模块"><!--[--><!--]--> 插件 - Plugin 模块 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/console/plugin/JVMPlugin.html" class="" aria-label="插件 - JVM Plugin"><!--[--><!--]--> 插件 - JVM Plugin <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/console/Commands.html" class="" aria-label="指令 - Command 模块"><!--[--><!--]--> 指令 - Command 模块 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/console/PluginData.html" class="" aria-label="存储 - PluginData 模块"><!--[--><!--]--> 存储 - PluginData 模块 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/console/Permissions.html" class="" aria-label="权限 - Permission 模块"><!--[--><!--]--> 权限 - Permission 模块 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>后端插件开发进阶</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/console/Extensions.html" class="" aria-label="扩展 - Extension 模块和扩展点"><!--[--><!--]--> 扩展 - Extension 模块和扩展点 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>实现前端</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/console/FrontEnd.html" class="" aria-label="FrontEnd"><!--[--><!--]--> FrontEnd <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Misc</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/console/QA.html" class="" aria-label="Q &amp; A"><!--[--><!--]--> Q &amp; A <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/console/Logging.html" class="" aria-label="日志配置"><!--[--><!--]--> 日志配置 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/console/BuiltInCommands.html" class="" aria-label="内置命令"><!--[--><!--]--> 内置命令 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/console/Appendix.html" class="" aria-label="Mirai Console 附录"><!--[--><!--]--> Mirai Console 附录 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/console/plugin/JVMPlugin-Appendix.html" class="" aria-label="插件 - JVM Plugin - 附录"><!--[--><!--]--> 插件 - JVM Plugin - 附录 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/console/plugin/JVMPlugin-DataExchange.html" class="" aria-label="插件 - JVM Plugin - 多插件数据交换"><!--[--><!--]--> 插件 - JVM Plugin - 多插件数据交换 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/console/plugin/JVMPlugin-Debug.html" class="" aria-label="插件 - JVM Plugin - 排错"><!--[--><!--]--> 插件 - JVM Plugin - 排错 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><a href="/mirai-login-solver-selenium/" class="" aria-label="mirai-login-solver-selenium"><!--[--><!--]--> mirai-login-solver-selenium <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="mirai-api-http"><span class="title">mirai-api-http</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="mirai-api-http"><span class="title">mirai-api-http</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/mirai-api-http/" class="" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mirai-api-http/api/API.html" class="" aria-label="API"><!--[--><!--]--> API <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mirai-api-http/api/EventType.html" class="" aria-label="事件类型"><!--[--><!--]--> 事件类型 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mirai-api-http/api/MessageType.html" class="" aria-label="消息类型"><!--[--><!--]--> 消息类型 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>接口适配器</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/mirai-api-http/adapter/HttpAdapter.html" class="" aria-label="http轮询"><!--[--><!--]--> http轮询 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/mirai-api-http/adapter/WebsocketAdapter.html" class="" aria-label="websocket"><!--[--><!--]--> websocket <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/mirai-api-http/adapter/ReverseWebsocketAdapter.html" class="" aria-label="反向websocket"><!--[--><!--]--> 反向websocket <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/mirai-api-http/adapter/WebhookAdapter.html" class="" aria-label="webhook上报"><!--[--><!--]--> webhook上报 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="mirai-console-loader"><span class="title">mirai-console-loader</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="mirai-console-loader"><span class="title">mirai-console-loader</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/mcl/" class="" aria-label="主页"><!--[--><!--]--> 主页 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mcl/Module.html" class="" aria-label="MCL模块"><!--[--><!--]--> MCL模块 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mcl/Plugin.html" class="" aria-label="MCL插件"><!--[--><!--]--> MCL插件 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/mamoe/mirai" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="mirai-core"><span class="title">mirai-core</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="mirai-core"><span class="title">mirai-core</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/" class="" aria-label="Index"><!--[--><!--]--> Index <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mirai-ecology.html" class="" aria-label="Mirai 生态概览"><!--[--><!--]--> Mirai 生态概览 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/MigrationFrom1x.html" class="" aria-label="从 1.x 迁移"><!--[--><!--]--> 从 1.x 迁移 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/UserManual.html" class="" aria-label="用户手册"><!--[--><!--]--> 用户手册 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ConsoleTerminal.html" class="" aria-label="用户手册 - 控制台"><!--[--><!--]--> 用户手册 - 控制台 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Preparations.html" class="" aria-label="JVM 环境和开发准备工作"><!--[--><!--]--> JVM 环境和开发准备工作 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ConfiguringProjects.html" class="" aria-label="配置项目"><!--[--><!--]--> 配置项目 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>CoreAPI</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/CoreAPI.html" class="" aria-label="CoreAPI"><!--[--><!--]--> CoreAPI <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/Bots.html" class="" aria-label="机器人"><!--[--><!--]--> 机器人 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/Contacts.html" class="" aria-label="联系人"><!--[--><!--]--> 联系人 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/Events.html" class="" aria-label="事件"><!--[--><!--]--> 事件 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/Messages.html" class="" aria-label="消息"><!--[--><!--]--> 消息 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Misc</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/ConciseAPI.html" class="" aria-label="主要API"><!--[--><!--]--> 主要API <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/Evolution.html" class="" aria-label="Mirai - Evolution"><!--[--><!--]--> Mirai - Evolution <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/KotlinAndJava.html" class="" aria-label="Kotlin &amp; Java"><!--[--><!--]--> Kotlin &amp; Java <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/EventList.html" class="" aria-label="事件列表"><!--[--><!--]--> 事件列表 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DebuggingNetwork.html" class="" aria-label="Debugging Network"><!--[--><!--]--> Debugging Network <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/UsingSnapshots.html" class="" aria-label="Using Dev Snapshots"><!--[--><!--]--> Using Dev Snapshots <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="mirai-console"><span class="title">mirai-console</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="mirai-console"><span class="title">mirai-console</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/console/" class="" aria-label="Index"><!--[--><!--]--> Index <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/console/ConfiguringProjects.html" class="" aria-label="配置项目"><!--[--><!--]--> 配置项目 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/console/Run.html" class="" aria-label="启动 Console"><!--[--><!--]--> 启动 Console <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>后端插件开发基础</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/console/plugin/Plugins.html" class="" aria-label="插件 - Plugin 模块"><!--[--><!--]--> 插件 - Plugin 模块 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/console/plugin/JVMPlugin.html" class="" aria-label="插件 - JVM Plugin"><!--[--><!--]--> 插件 - JVM Plugin <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/console/Commands.html" class="" aria-label="指令 - Command 模块"><!--[--><!--]--> 指令 - Command 模块 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/console/PluginData.html" class="" aria-label="存储 - PluginData 模块"><!--[--><!--]--> 存储 - PluginData 模块 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/console/Permissions.html" class="" aria-label="权限 - Permission 模块"><!--[--><!--]--> 权限 - Permission 模块 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>后端插件开发进阶</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/console/Extensions.html" class="" aria-label="扩展 - Extension 模块和扩展点"><!--[--><!--]--> 扩展 - Extension 模块和扩展点 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>实现前端</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/console/FrontEnd.html" class="" aria-label="FrontEnd"><!--[--><!--]--> FrontEnd <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Misc</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/console/QA.html" class="" aria-label="Q &amp; A"><!--[--><!--]--> Q &amp; A <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/console/Logging.html" class="" aria-label="日志配置"><!--[--><!--]--> 日志配置 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/console/BuiltInCommands.html" class="" aria-label="内置命令"><!--[--><!--]--> 内置命令 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/console/Appendix.html" class="" aria-label="Mirai Console 附录"><!--[--><!--]--> Mirai Console 附录 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/console/plugin/JVMPlugin-Appendix.html" class="" aria-label="插件 - JVM Plugin - 附录"><!--[--><!--]--> 插件 - JVM Plugin - 附录 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/console/plugin/JVMPlugin-DataExchange.html" class="" aria-label="插件 - JVM Plugin - 多插件数据交换"><!--[--><!--]--> 插件 - JVM Plugin - 多插件数据交换 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/console/plugin/JVMPlugin-Debug.html" class="" aria-label="插件 - JVM Plugin - 排错"><!--[--><!--]--> 插件 - JVM Plugin - 排错 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><a href="/mirai-login-solver-selenium/" class="" aria-label="mirai-login-solver-selenium"><!--[--><!--]--> mirai-login-solver-selenium <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="mirai-api-http"><span class="title">mirai-api-http</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="mirai-api-http"><span class="title">mirai-api-http</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/mirai-api-http/" class="" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mirai-api-http/api/API.html" class="" aria-label="API"><!--[--><!--]--> API <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mirai-api-http/api/EventType.html" class="" aria-label="事件类型"><!--[--><!--]--> 事件类型 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mirai-api-http/api/MessageType.html" class="" aria-label="消息类型"><!--[--><!--]--> 消息类型 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>接口适配器</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/mirai-api-http/adapter/HttpAdapter.html" class="" aria-label="http轮询"><!--[--><!--]--> http轮询 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/mirai-api-http/adapter/WebsocketAdapter.html" class="" aria-label="websocket"><!--[--><!--]--> websocket <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/mirai-api-http/adapter/ReverseWebsocketAdapter.html" class="" aria-label="反向websocket"><!--[--><!--]--> 反向websocket <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/mirai-api-http/adapter/WebhookAdapter.html" class="" aria-label="webhook上报"><!--[--><!--]--> webhook上报 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="mirai-console-loader"><span class="title">mirai-console-loader</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="mirai-console-loader"><span class="title">mirai-console-loader</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/mcl/" class="" aria-label="主页"><!--[--><!--]--> 主页 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mcl/Module.html" class="" aria-label="MCL模块"><!--[--><!--]--> MCL模块 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mcl/Plugin.html" class="" aria-label="MCL插件"><!--[--><!--]--> MCL插件 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/mamoe/mirai" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">贡献 <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/contributing/#git-分支" class="router-link-active router-link-exact-active sidebar-item" aria-label="Git 分支"><!--[--><!--]--> Git 分支 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/contributing/#mirai-core-术语" class="router-link-active router-link-exact-active sidebar-item" aria-label="mirai-core 术语"><!--[--><!--]--> mirai-core 术语 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/contributing/#core-多平台架构" class="router-link-active router-link-exact-active sidebar-item" aria-label="core 多平台架构"><!--[--><!--]--> core 多平台架构 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/contributing/#安装-jdk" class="router-link-active router-link-exact-active sidebar-item" aria-label="安装 JDK"><!--[--><!--]--> 安装 JDK <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/contributing/#构建-jvm-目标项目" class="router-link-active router-link-exact-active sidebar-item" aria-label="构建 JVM 目标项目"><!--[--><!--]--> 构建 JVM 目标项目 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/contributing/#获得-mirai-console-jar" class="router-link-active router-link-exact-active sidebar-item" aria-label="获得 mirai-console JAR"><!--[--><!--]--> 获得 mirai-console JAR <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/contributing/#构建多平台项目" class="router-link-active router-link-exact-active sidebar-item" aria-label="构建多平台项目"><!--[--><!--]--> 构建多平台项目 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/contributing/#寻找带解决的问题" class="router-link-active router-link-exact-active sidebar-item" aria-label="寻找带解决的问题"><!--[--><!--]--> 寻找带解决的问题 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/contributing/#开发文档" class="router-link-active router-link-exact-active sidebar-item" aria-label="开发文档"><!--[--><!--]--> 开发文档 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/contributing/#提交高质量的-commit-以及-pr" class="router-link-active router-link-exact-active sidebar-item" aria-label="提交高质量的 commit 以及 PR"><!--[--><!--]--> 提交高质量的 commit 以及 PR <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/contributing/#代码规范" class="router-link-active router-link-exact-active sidebar-item" aria-label="代码规范"><!--[--><!--]--> 代码规范 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/contributing/#为-java-做兼容" class="router-link-active router-link-exact-active sidebar-item" aria-label="为 Java 做兼容"><!--[--><!--]--> 为 Java 做兼容 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/contributing/#确保二进制兼容性" class="router-link-active router-link-exact-active sidebar-item" aria-label="确保二进制兼容性"><!--[--><!--]--> 确保二进制兼容性 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/contributing/#代码注释语言" class="router-link-active router-link-exact-active sidebar-item" aria-label="代码注释语言"><!--[--><!--]--> 代码注释语言 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/contributing/#编写高质量的文档" class="router-link-active router-link-exact-active sidebar-item" aria-label="编写高质量的文档"><!--[--><!--]--> 编写高质量的文档 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/contributing/#pr-标题" class="router-link-active router-link-exact-active sidebar-item" aria-label="PR 标题"><!--[--><!--]--> PR 标题 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/contributing/#会如何合并-pr" class="router-link-active router-link-exact-active sidebar-item" aria-label="会如何合并 PR"><!--[--><!--]--> 会如何合并 PR <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/contributing/#commit-message" class="router-link-active router-link-exact-active sidebar-item" aria-label="commit message"><!--[--><!--]--> commit message <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/contributing/#确保-pr-只解决一类问题" class="router-link-active router-link-exact-active sidebar-item" aria-label="确保 PR 只解决一类问题"><!--[--><!--]--> 确保 PR 只解决一类问题 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/contributing/#确保-commit-的可阅读性" class="router-link-active router-link-exact-active sidebar-item" aria-label="确保 commit 的可阅读性"><!--[--><!--]--> 确保 commit 的可阅读性 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/contributing/#pr-在有审核后避免-force-push" class="router-link-active router-link-exact-active sidebar-item" aria-label="PR 在有审核后避免 force push"><!--[--><!--]--> PR 在有审核后避免 force push <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="贡献" tabindex="-1"><a class="header-anchor" href="#贡献" aria-hidden="true">#</a> 贡献</h1><p>本文是关于向 mirai 贡献的指南。mirai 欢迎并感谢一切形式的贡献。</p><p>当前仓库 mamoe/mirai 包含 mirai 核心模块：</p><table><thead><tr><th>名称</th><th>描述</th></tr></thead><tbody><tr><td>mirai-core-utils</td><td>一些工具类，供其他模块使用</td></tr><tr><td>mirai-core-api</td><td>mirai 机器人核心 API</td></tr><tr><td>mirai-core</td><td>mirai 机器人核心实现</td></tr><tr><td>mirai-core-all</td><td>上述三个模块的集合，用于启动器</td></tr><tr><td>mirai-console</td><td>插件模式机器人框架后端</td></tr><tr><td>mirai-console-terminal</td><td>mirai-console 的终端前端</td></tr><tr><td>mirai-console-intellij</td><td>IntelliJ IDEA 插件</td></tr><tr><td>mirai-console-gradle</td><td>Gradle 插件</td></tr><tr><td>mirai-bom</td><td>Maven BOM</td></tr><tr><td>mirai-logging</td><td>常用日志库转接器</td></tr></tbody></table><p>若你想以非提交代码方式帮助 mirai，可以为 <a href="/mirai-console">mirai-console</a> 编写插件并发布到<a href="https://mirai.mamoe.net/" target="_blank" rel="noopener noreferrer">论坛<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>，或在论坛帮助新入门的朋友使用 mirai 等。</p><p>若希望提交代码，请继续阅读。</p><h2 id="git-分支" tabindex="-1"><a class="header-anchor" href="#git-分支" aria-hidden="true">#</a> Git 分支</h2><ul><li><code>1.x</code>：1.x 版本的开发 (已停止)；</li><li><code>dev</code>：2.x 版本的开发（主分支）；</li><li><code>-release</code> 后缀：某个版本的小更新分支。如 <code>2.10-release</code> 会包含 <code>2.10.x</code> 小版本的更新；</li><li>其他分支：正在开发中或留档的开发进度。</li></ul><p>通常请基于 <code>dev</code> 分支进行修改。</p><p>基于<a href="/Evolution.html#%E7%89%88%E6%9C%AC%E8%A7%84%E8%8C%83" class="">版本规范</a> ，若一个修改适合发布为小版本更新，mirai 会从 <code>dev</code> 中提取该修复到目标 <code>-release</code> 分支。</p><h2 id="mirai-core-术语" tabindex="-1"><a class="header-anchor" href="#mirai-core-术语" aria-hidden="true">#</a> <code>mirai-core</code> 术语</h2><p>根据语境，mirai-core 有时候可能指 <code>mirai-core</code> 这个模块，有时候可能指 <code>mirai-core-utils</code> 、<code>mirai-core-api</code>、 <code>mirai-core</code> 这三个模块的整体。 本文中，<code>mirai-core</code> 将特指 <code>mirai-core</code> 模块，而用 &#39;core&#39; 或者 &#39;mirai core&#39; 指相关三个模块的整体。</p><h2 id="core-多平台架构" tabindex="-1"><a class="header-anchor" href="#core-多平台架构" aria-hidden="true">#</a> core 多平台架构</h2><p>core 三个模块都使用 Kotlin <a href="https://kotlinlang.org/docs/multiplatform-discover-project.html" target="_blank" rel="noopener noreferrer">HMPP<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 功能，同时支持 JVM 和 Native 两种平台。你可以在 <a href="https://kotlinlang.org/docs/multiplatform-discover-project.html" target="_blank" rel="noopener noreferrer">Kotlin 官方英文文档<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 了解 HMPP 模式。</p><p>core 的源集结构如图所示：</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>                     common
                       |
       /---------------+---------------\
    jvmBase                          native
    /    \                          /     \
  jvm   android                  unix      \
                                /    \     mingwX64
                               /      \
                           darwin     linuxX64
                              |
                              *
                       &lt;darwin targets&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>备注：</p><ul><li>common 包含全平台通用代码，绝大部分代码都位于 common；</li><li>jvmBase 包含针对 JVM 平台的通用代码；</li><li><code>&lt;darwin targets&gt;</code> 为 macOS，iOS，WatchOS 等 Apple 平台目标。</li></ul><h2 id="安装-jdk" tabindex="-1"><a class="header-anchor" href="#安装-jdk" aria-hidden="true">#</a> 安装 JDK</h2><p>需要安装 JDK 才能编译 mirai。mirai 主分支最新提交在如下环境测试可以编译:</p><table><thead><tr><th>操作系统</th><th>JDK</th><th>架构</th></tr></thead><tbody><tr><td>macOS 12.0.1</td><td>AdoptOpenJDK 17</td><td>aarch64</td></tr><tr><td>macOS 12.0.1</td><td>Amazon Corretto 11</td><td>amd64</td></tr><tr><td>Windows 10</td><td>OpenJDK 17</td><td>amd64</td></tr><tr><td>Ubuntu 20.04</td><td>AdoptOpenJDK 17</td><td>amd64</td></tr></tbody></table><p>若在其他环境下无法正常编译, 请尝试选择上述一个环境配置。</p><h2 id="构建-jvm-目标项目" tabindex="-1"><a class="header-anchor" href="#构建-jvm-目标项目" aria-hidden="true">#</a> 构建 JVM 目标项目</h2><p>要构建只有 JVM 目标的项目（如 <code>mirai-console</code>，只需在项目根目录使用如下命令执行 Gradle 任务：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ ./gradlew :mirai-console:assemble <span class="token comment"># 编译</span>
$ ./gradlew :mirai-console:check <span class="token comment"># 测试</span>
$ ./gradlew :mirai-console:build <span class="token comment"># 编译和测试</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>其中 <code>:mirai-console</code> 是目标项目的路径（path）。</p><p>你也可以在 IDEA 等有 Gradle 支持的 IDE 中在通过侧边栏等方式选择项目的 <code>assemble</code> 等任务：</p><p><img src="/assets/run-gradle-tasks-in-idea.76e8ba16.png" alt=""></p><h3 id="获得-mirai-console-jar" tabindex="-1"><a class="header-anchor" href="#获得-mirai-console-jar" aria-hidden="true">#</a> 获得 mirai-console JAR</h3><p>在项目根目录执行如下命令可以获得包含依赖的 mirai-console JAR。对于其他模块类似。</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ ./gradlew :mirai-console:shadowJar
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="构建多平台项目" tabindex="-1"><a class="header-anchor" href="#构建多平台项目" aria-hidden="true">#</a> 构建多平台项目</h2><p>core 是多平台项目。请参考 <a href="/contributing/BuildingCore.html" class="">构建 Core</a>。</p><h2 id="寻找带解决的问题" tabindex="-1"><a class="header-anchor" href="#寻找带解决的问题" aria-hidden="true">#</a> 寻找带解决的问题</h2><p>可以在 <a href="https://github.com/mamoe/mirai/issues" target="_blank" rel="noopener noreferrer">issues<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 查看 mirai 遇到的所有问题，或在里程碑查看版本计划.</p><p><a href="https://github.com/mamoe/mirai/milestones" target="_blank" rel="noopener noreferrer">里程碑<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 为各版本的开发计划. 在完成所有任务后就会发布该版本.</p><p><code>Backlog</code> 为没有设定目标版本的计划. 如果有相关 PR, 这些计划就可能会被确定到一个最近的版本.</p><h2 id="开发文档" tabindex="-1"><a class="header-anchor" href="#开发文档" aria-hidden="true">#</a> 开发文档</h2><p>本节列举为了帮助开发某些模块的文档。</p><ul><li><a href="/contributing/ImplementingProtocol.html" class="">添加新协议支持</a>。</li></ul><h2 id="提交高质量的-commit-以及-pr" tabindex="-1"><a class="header-anchor" href="#提交高质量的-commit-以及-pr" aria-hidden="true">#</a> 提交高质量的 commit 以及 PR</h2><p>mirai 由社区驱动，审核者在业余时间审核 PR。这些规范性建议将帮助你提交高质量的 commit 和 PR，同时节约你和审核者的时间，最大程度地帮助 mirai，也能帮助你在其他项目提交同样高质量的 PR。</p><p>如果你不太保证自己能达到这些要求也没关系，mirai 感谢你花费的每一分钟，维护者会审核 PR 并尽可能帮助你。</p><h3 id="代码规范" tabindex="-1"><a class="header-anchor" href="#代码规范" aria-hidden="true">#</a> 代码规范</h3><ul><li>请在 Kotlin 模块使用纯 Kotlin 实现。</li><li>尽量不要引用新的库</li><li>遵守 Kotlin 官方代码规范（提交前使用 IDE 格式化代码即可 (commit 时勾选 &#39;Reformat code&#39;)）</li></ul><h3 id="为-java-做兼容" tabindex="-1"><a class="header-anchor" href="#为-java-做兼容" aria-hidden="true">#</a> 为 Java 做兼容</h3><p>mirai 使用 Kotlin 编写，大量使用 Kotlin 协程等语言级特性。为了能兼容 Java，mirai 使用 Kotlin 编译器插件 <a href="https://github.com/him188/kotlin-jvm-blocking-bridge" target="_blank" rel="noopener noreferrer">KJBB<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 。KJBB 会为 Kotlin 挂起函数生成一个辅助方法来允许 Java 调用。在开发时只需要：</p><ul><li><p>安装 IDE 插件 <a href="https://github.com/Him188/kotlin-jvm-blocking-bridge/blob/master/README-chs.md#%E5%AE%89%E8%A3%85-intellij-idea-%E6%88%96-android-studio-%E6%8F%92%E4%BB%B6" target="_blank" rel="noopener noreferrer">kotlin-jvm-blocking-bridge<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>若要添加一个 suspend 函数, 为它添加 <code>@JvmBlockingBridge</code> 注解即可允许 Java 调用</p></li></ul><h3 id="确保二进制兼容性" tabindex="-1"><a class="header-anchor" href="#确保二进制兼容性" aria-hidden="true">#</a> 确保二进制兼容性</h3><p>请在提交前进行 <a href="/contributing/VerifyingABI.html" class="">ABI 验证</a>。</p><h3 id="代码注释语言" tabindex="-1"><a class="header-anchor" href="#代码注释语言" aria-hidden="true">#</a> 代码注释语言</h3><p>内部实现的注释可以使用英文或中文（无变体要求）。公开 API 的注释（KDoc）请只使用简体中文，且无需提供翻译。</p><h3 id="编写高质量的文档" tabindex="-1"><a class="header-anchor" href="#编写高质量的文档" aria-hidden="true">#</a> 编写高质量的文档</h3><p>mirai 在乎质量，这也包括文档质量。根据 mirai 的历史 PR，许多贡献者容易忽视下列问题：</p><ul><li>汉字与英文或数字之间需要有空格</li><li>KDoc 语法衍生于 Markdown 语法，没有空行的换行会被压缩为一行，因此需要有正确的标点符号结束一句话</li></ul><p>可以阅读 <a href="https://github.com/ruanyf/document-style-guide/blob/master/docs/title.md" target="_blank" rel="noopener noreferrer">中文技术文档的写作规范<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 了解如何编写高质量的中文文档。为了方便，在 mirai 代码文档和注释中可以使用英文标点符号。但在编写 docs 目录中等的 <code>.md</code> 正式文档时，请遵守写作规范。</p><h3 id="pr-标题" tabindex="-1"><a class="header-anchor" href="#pr-标题" aria-hidden="true">#</a> PR 标题</h3><p>编写 PR 标题时，可以使用英文或中文。正确描述 PR 的修改，避免 &quot;修复了一个 bug&quot; 这类模糊标题即可。</p><h3 id="会如何合并-pr" tabindex="-1"><a class="header-anchor" href="#会如何合并-pr" aria-hidden="true">#</a> 会如何合并 PR</h3><p>由于仓库庞大，mirai 主分支（<code>dev</code>）维护线性提交历史来确保历史的可读性。这意味着主分支不允许有 merge 操作，只允许基于分支最新提交的提交。</p><p>一般 PR 会以 squash 方式合并，即 PR 的所有 commit 都会被合并为一个 commit，并由审核者拟定标题。这个标题通常会直接采用 PR 标题（如果符合规范）。</p><p>若提交的 PR 需要以多个步骤完成，且 PR 的提交概述符合约定，审核者通常会以 rebase 方式合并 PR，即 PR 的 commit 会被重置到基于最新 <code>dev</code> 分支并按顺序并入。</p><h3 id="commit-message" tabindex="-1"><a class="header-anchor" href="#commit-message" aria-hidden="true">#</a> commit message</h3><p>由于很多 PR 会以 squash 方式合并，可以不需要遵守本节的提交概述（commit message）的约定。</p><p>编写提交概述以及 PR 的标题时，可以使用英文或中文。</p><p>由于代码量庞大，请在提交概述包含涉及模块名称。模块名称可以是 <code>[core]</code> 、<code>[console]</code>、<code>[idea]</code>、<code>[gradle]</code> 或 <code>[build]</code> 。如有必要，还可以添加子模块名称如 <code>[core/native]</code> 表示 mirai-core 中的 native 部分。</p><p>mirai 不要求将 commit 为了区分新功能或修复 bug 而<em>特地</em>使用 <code>fix:</code> 或 <code>feat:</code> 等前缀（允许你认为的合理的使用，或是你更喜欢这样区分）。只需要用最合适的语言描述修改。如 <code>Optimize gradle properties</code> 。</p><p>请以标准英文句子语法编写提交概述，可省略末尾标点符号。如 <code>Configure shadow relocation, and add checks for multiplatform publishing.</code> 或 <code>Optimize gradle properties</code>。</p><h3 id="确保-pr-只解决一类问题" tabindex="-1"><a class="header-anchor" href="#确保-pr-只解决一类问题" aria-hidden="true">#</a> 确保 PR 只解决一类问题</h3><p>一个 PR 只能解决一个（类）问题，比如 &quot;支持视频消息&quot;、&quot; 修复无法发送图片的问题&quot;、&quot;修复一些消息类型无法序列化的问题&quot;。 等。当解决一类问题时，请规范 commit 来区分解决这类问题的步骤（如果有必要）。</p><h3 id="确保-commit-的可阅读性" tabindex="-1"><a class="header-anchor" href="#确保-commit-的可阅读性" aria-hidden="true">#</a> 确保 commit 的可阅读性</h3><p>一个 PR 只能包含能通过 commit message 描述的对一个部分的修改。比如 &quot;更新 console 文档&quot; 、&quot;Add logger for NetworkHandler&quot; 等。</p><p>commit 必须不带有或指明必要的副作用。例如名称为 &quot;修复无法发送图片的问题&quot; 的 commit 却修改了对消息长度的限制是不好的。此时一个恰当的概述为 &quot; 调整消息长度限制, 修复无法发送图片的问题&quot; (修改内容 + 修改带来的影响)。</p><p>若要修复某一个 issue，请不要仅提交 &quot;fix #123&quot;。请附带具体修复内容，把修复 issue 作为&quot;修改带来的影响&quot;。例如 &quot;调整消息长度限制, 修复无法发送图片的问题, fix #123&quot;。（&quot;fix #123&quot; 会触发 GitHub 自动链接 issue 到 PR）</p><h3 id="pr-在有审核后避免-force-push" tabindex="-1"><a class="header-anchor" href="#pr-在有审核后避免-force-push" aria-hidden="true">#</a> PR 在有审核后避免 force push</h3><p>PR 在有人审核（review）后，请不要进行 force push（<code>git push -f</code> ），否则将可能会导致审核人需要重新审核你的全部代码——这会浪费大量时间。请在收到 approve 的 review 并且 PR 被标记 <code>ready-to-merge</code> 之后再进行 force push 优化提交历史。当然，即使不优化提交历史，PR 也会在合适的时机使用 squash 方式合并。</p><p>在有审核之前可任意 force push。</p></div><!--[--><!--]--></div><footer class="page-meta"><!----><!----><!----></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.e657f2e4.js" defer></script>
  </body>
</html>
