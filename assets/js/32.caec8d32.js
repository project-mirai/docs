(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{408:function(t,e,a){"use strict";a.r(e);var s=a(49),n=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"mirai-console-backend-logging"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mirai-console-backend-logging"}},[t._v("#")]),t._v(" Mirai Console Backend - Logging")]),t._v(" "),a("p",[t._v("Console 的日志一共有五个级别：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("级别（由高到低）")]),t._v(" "),a("th",[t._v("用途")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("默认启用")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("ERROR")]),t._v(" "),a("td",[t._v("记录影响程序运行的错误")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("是")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("WARNING")]),t._v(" "),a("td",[t._v("记录不影响程序运行的警告")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("是")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("INFO")]),t._v(" "),a("td",[t._v("记录一条普通信息")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("是")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("DEBUG")]),t._v(" "),a("td",[t._v("记录普通调试信息")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("否")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("VERBOSE")]),t._v(" "),a("td",[t._v("记录详细调试信息")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("否")])])])]),t._v(" "),a("p",[a("code",[t._v("DEBUG")]),t._v(" 和 "),a("code",[t._v("VERBOSE")]),t._v("\n作为调试信息，默认关闭。插件开发者可能会使用这两个级别来输出调试信息。如果你在使用中遇到问题，启用这个两个级别获得更多日志后再报告开发者可能更有帮助。")]),t._v(" "),a("p",[t._v("特别地，"),a("code",[t._v("ALL")]),t._v(" 表示启用全部日志，"),a("code",[t._v("NONE")]),t._v(" 表示禁用全部日志。")]),t._v(" "),a("p",[t._v("在终端前端（或 "),a("a",{attrs:{href:"https://github.com/iTXTech/mirai-console-loader",target:"_blank",rel:"noopener noreferrer"}},[t._v("MCL"),a("OutboundLink")],1),t._v("\n），日志配置文件默认路径为 "),a("code",[t._v("config/Console/Logger.yml")]),t._v("。示例内容为如下。")]),t._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 默认日志输出等级 可选值: ALL, VERBOSE, DEBUG, INFO, WARNING, ERROR, NONE")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("defaultPriority")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" INFO\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 特定日志记录器输出等级")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("loggers")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("example.logger")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" NONE\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("console.debug")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" NONE\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("Bot")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ALL\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("h2",{attrs:{id:"调整全局默认日志等级"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#调整全局默认日志等级"}},[t._v("#")]),t._v(" 调整全局默认日志等级")]),t._v(" "),a("p",[t._v("修改 "),a("code",[t._v("defaultPriority")]),t._v(" 即可修改全局默认日志等级。")]),t._v(" "),a("p",[t._v("例如设置为 DEBUG，则启用上表中 DEBUG 及更高级别的日志，即\nDEBUG、INFO、WARNING、ERROR。")]),t._v(" "),a("h2",{attrs:{id:"调整特定日志等级"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#调整特定日志等级"}},[t._v("#")]),t._v(" 调整特定日志等级")]),t._v(" "),a("p",[t._v("每个插件被分配的日志的 ID 为插件的显示名称。")]),t._v(" "),a("p",[t._v("提示：该 ID 也可以在日志中找到。如下面的日志中，"),a("code",[t._v("Bot 12345678")]),t._v(" 就是其所属日志的 ID。（"),a("code",[t._v("V")]),t._v("\n代表等级为 VERBOSE，以首字母识别）")]),t._v(" "),a("div",{staticClass:"language-text line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("2022-05-02 11:09:28 V/Bot 12345678: Event: BotOnlineEvent(bot=Bot(12345678))\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("如果在日志配置这样修改：")]),t._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("loggers")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v('"Bot 12345678"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" NONE\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[t._v("那么将禁用来自该 Bot 的所有日志。")]),t._v(" "),a("p",[t._v("假设要启用名为 "),a("code",[t._v("Chat Command")]),t._v(" 的插件的 DEBUG 及更高级别的日志：")]),t._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("loggers")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v('"Chat Command"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" DEBUG\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])])])}),[],!1,null,null,null);e.default=n.exports}}]);