(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{749:function(t,e,c){"use strict";c.r(e);var v=c(109),a=Object(v.a)({},(function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[c("h1",{attrs:{id:"mirai-contacts"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#mirai-contacts"}},[t._v("#")]),t._v(" Mirai - Contacts")]),t._v(" "),c("p",[c("a",{attrs:{href:"https://mermaid-js.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoiY2xhc3NEaWFncmFtXG5cbmNsYXNzIEJvdCB7XG4gICAgK2ZyaWVuZHM6IENvbnRhY3RMaXN0XG4gICAgK2dyb3VwczogQ29udGFjdExpc3RcbiAgICArZ2V0RnJpZW5kKExvbmcpIEZyaWVuZD9cbiAgICArZ2V0RnJpZW5kT3JOdWxsKExvbmcpIEZyaWVuZFxuICAgICtnZXRHcm91cChMb25nKSBHcm91cD9cbiAgICArZ2V0R3JvdXBPckZhaWwoTG9uZykgR3JvdXBcbiAgICArbG9naW4oKVxuICAgICtjbG9zZSgpXG59XG5cbmNsYXNzIENvbnRhY3RPckJvdCB7XG4gICAgK2lkOiBJbnRcbiAgICArYXZhdGFyVXJsOiBTdHJpbmdcbn1cblxuY2xhc3MgVXNlck9yQm90IHtcbiAgICArbnVkZ2UoKSBOdWRnZVxufVxuXG5jbGFzcyBDb250YWN0IHtcbiAgICArYm90OiBCb3RcbiAgICArc2VuZE1lc3NhZ2UoTWVzc2FnZSkgTWVzc2FnZVJlY2VpcHRcbiAgICArc2VuZE1lc3NhZ2UoU3RyaW5nKSBNZXNzYWdlUmVjZWlwdFxuICAgICt1cGxvYWRJbWFnZShFeHRlcm5hbEltYWdlKSBJbWFnZVxufVxuXG5jbGFzcyBVc2VyIHtcbiAgICArbmljazogU3RyaW5nXG4gICAgK3JlbWFyazogU3RyaW5nXG4gICAgK3F1ZXJ5UHJvZmlsZSgpIFVzZXJQcm9maWxlXG59XG5cbmNsYXNzIEdyb3VwIHtcbiAgICArbWVtYmVyczogQ29udGFjdExpc3RcbiAgICArbmFtZTogU3RyaW5nXG4gICAgK3NldHRpbmdzOiBHcm91cFNldHRpbmdzXG4gICAgK293bmVyOiBOb3JtYWxNZW1iZXJcbiAgICArYm90TXV0ZVJlbWFpbmluZzogTG9uZ1xuICAgICtib3RQZXJtaXNzaW9uOiBNZW1iZXJQZXJtaXNzaW9uXG4gICAgK3F1aXQoKSBCb29sZWFuXG4gICAgK3VwbG9hZFZvaWNlKCkgVm9pY2Vcbn1cblxuY2xhc3MgTm9ybWFsTWVtYmVyIHtcbiAgICArbXV0ZSgpXG4gICAgK2tpY2soKVxufVxuXG5jbGFzcyBBbm9ueW1vdXNNZW1iZXIge1xuICAgICthbm9ueW1vdXNJZDogU3RyaW5nXG59XG5cbmNsYXNzIE1lbWJlciB7XG4gICAgK2dyb3VwOiBHcm91cFxufVxuXG5jbGFzcyBPdGhlckNsaWVudCB7XG4gICAgK2luZm9cbn1cblxuQ29udGFjdE9yQm90PHwtLUNvbnRhY3RcbkNvbnRhY3RPckJvdDx8LS1Vc2VyT3JCb3RcblxuVXNlck9yQm90PHwtLUJvdFxuVXNlck9yQm90PHwtLVVzZXJcblxuQ29udGFjdDx8LS1Vc2VyXG5Db250YWN0PHwtLUdyb3VwXG5Db250YWN0PHwtLU90aGVyQ2xpZW50XG5cblVzZXI8fC0tTWVtYmVyXG5Vc2VyPHwtLUZyaWVuZFxuXG5NZW1iZXI8fC0tTm9ybWFsTWVtYmVyXG5NZW1iZXI8fC0tQW5vbnltb3VzTWVtYmVyIiwibWVybWFpZCI6eyJ0aGVtZSI6ImRlZmF1bHQifSwidXBkYXRlRWRpdG9yIjpmYWxzZX0",target:"_blank",rel:"noopener noreferrer"}},[c("img",{attrs:{src:"https://mermaid.ink/img/eyJjb2RlIjoiY2xhc3NEaWFncmFtXG5cbmNsYXNzIEJvdCB7XG4gICAgK2ZyaWVuZHM6IENvbnRhY3RMaXN0XG4gICAgK2dyb3VwczogQ29udGFjdExpc3RcbiAgICArZ2V0RnJpZW5kKExvbmcpIEZyaWVuZD9cbiAgICArZ2V0RnJpZW5kT3JOdWxsKExvbmcpIEZyaWVuZFxuICAgICtnZXRHcm91cChMb25nKSBHcm91cD9cbiAgICArZ2V0R3JvdXBPckZhaWwoTG9uZykgR3JvdXBcbiAgICArbG9naW4oKVxuICAgICtjbG9zZSgpXG59XG5cbmNsYXNzIENvbnRhY3RPckJvdCB7XG4gICAgK2lkOiBJbnRcbiAgICArYXZhdGFyVXJsOiBTdHJpbmdcbn1cblxuY2xhc3MgVXNlck9yQm90IHtcbiAgICArbnVkZ2UoKSBOdWRnZVxufVxuXG5jbGFzcyBDb250YWN0IHtcbiAgICArYm90OiBCb3RcbiAgICArc2VuZE1lc3NhZ2UoTWVzc2FnZSkgTWVzc2FnZVJlY2VpcHRcbiAgICArc2VuZE1lc3NhZ2UoU3RyaW5nKSBNZXNzYWdlUmVjZWlwdFxuICAgICt1cGxvYWRJbWFnZShFeHRlcm5hbEltYWdlKSBJbWFnZVxufVxuXG5jbGFzcyBVc2VyIHtcbiAgICArbmljazogU3RyaW5nXG4gICAgK3JlbWFyazogU3RyaW5nXG4gICAgK3F1ZXJ5UHJvZmlsZSgpIFVzZXJQcm9maWxlXG59XG5cbmNsYXNzIEdyb3VwIHtcbiAgICArbWVtYmVyczogQ29udGFjdExpc3RcbiAgICArbmFtZTogU3RyaW5nXG4gICAgK3NldHRpbmdzOiBHcm91cFNldHRpbmdzXG4gICAgK293bmVyOiBOb3JtYWxNZW1iZXJcbiAgICArYm90TXV0ZVJlbWFpbmluZzogTG9uZ1xuICAgICtib3RQZXJtaXNzaW9uOiBNZW1iZXJQZXJtaXNzaW9uXG4gICAgK3F1aXQoKSBCb29sZWFuXG4gICAgK3VwbG9hZFZvaWNlKCkgVm9pY2Vcbn1cblxuY2xhc3MgTm9ybWFsTWVtYmVyIHtcbiAgICArbXV0ZSgpXG4gICAgK2tpY2soKVxufVxuXG5jbGFzcyBBbm9ueW1vdXNNZW1iZXIge1xuICAgICthbm9ueW1vdXNJZDogU3RyaW5nXG59XG5cbmNsYXNzIE1lbWJlciB7XG4gICAgK2dyb3VwOiBHcm91cFxufVxuXG5jbGFzcyBPdGhlckNsaWVudCB7XG4gICAgK2luZm9cbn1cblxuQ29udGFjdE9yQm90PHwtLUNvbnRhY3RcbkNvbnRhY3RPckJvdDx8LS1Vc2VyT3JCb3RcblxuVXNlck9yQm90PHwtLUJvdFxuVXNlck9yQm90PHwtLVVzZXJcblxuQ29udGFjdDx8LS1Vc2VyXG5Db250YWN0PHwtLUdyb3VwXG5Db250YWN0PHwtLU90aGVyQ2xpZW50XG5cblVzZXI8fC0tTWVtYmVyXG5Vc2VyPHwtLUZyaWVuZFxuXG5NZW1iZXI8fC0tTm9ybWFsTWVtYmVyXG5NZW1iZXI8fC0tQW5vbnltb3VzTWVtYmVyIiwibWVybWFpZCI6eyJ0aGVtZSI6ImRlZmF1bHQifSwidXBkYXRlRWRpdG9yIjpmYWxzZX0",alt:""}}),c("OutboundLink")],1)]),t._v(" "),c("table",[c("thead",[c("tr",[c("th",{staticStyle:{"text-align":"center"}},[t._v("类型")]),t._v(" "),c("th",{staticStyle:{"text-align":"left"}},[t._v("描述")]),t._v(" "),c("th",{staticStyle:{"text-align":"center"}},[t._v("最低支持的版本")])])]),t._v(" "),c("tbody",[c("tr",[c("td",{staticStyle:{"text-align":"center"}},[c("code",[t._v("ContactOrBot")])]),t._v(" "),c("td",{staticStyle:{"text-align":"left"}},[c("code",[t._v("Contact")]),t._v(" 和 "),c("code",[t._v("Bot")]),t._v(" 的公共接口")]),t._v(" "),c("td",{staticStyle:{"text-align":"center"}},[t._v("2.0")])]),t._v(" "),c("tr",[c("td",{staticStyle:{"text-align":"center"}},[c("code",[t._v("OtherClient")])]),t._v(" "),c("td",{staticStyle:{"text-align":"left"}},[t._v("Bot 的"),c("em",[t._v("其他客户端")]),t._v('，如 "我的 iPad"，"我的电脑"')]),t._v(" "),c("td",{staticStyle:{"text-align":"center"}},[t._v("2.0")])]),t._v(" "),c("tr",[c("td",{staticStyle:{"text-align":"center"}},[c("code",[t._v("Bot")])]),t._v(" "),c("td",{staticStyle:{"text-align":"left"}},[t._v("机器人对象")]),t._v(" "),c("td",{staticStyle:{"text-align":"center"}},[t._v("2.0")])]),t._v(" "),c("tr",[c("td",{staticStyle:{"text-align":"center"}},[c("code",[t._v("Contact")])]),t._v(" "),c("td",{staticStyle:{"text-align":"left"}},[t._v("联系人对象，即所有的群，好友，陌生人，群成员等")]),t._v(" "),c("td",{staticStyle:{"text-align":"center"}},[t._v("2.0")])]),t._v(" "),c("tr",[c("td",{staticStyle:{"text-align":"center"}},[c("code",[t._v("Group")])]),t._v(" "),c("td",{staticStyle:{"text-align":"left"}},[t._v("群对象")]),t._v(" "),c("td",{staticStyle:{"text-align":"center"}},[t._v("2.0")])]),t._v(" "),c("tr",[c("td",{staticStyle:{"text-align":"center"}},[c("code",[t._v("User")])]),t._v(" "),c("td",{staticStyle:{"text-align":"left"}},[t._v('用户对象，即 "个人". 包含好友，陌生人，群成员，临时会话用户')]),t._v(" "),c("td",{staticStyle:{"text-align":"center"}},[t._v("2.0")])]),t._v(" "),c("tr",[c("td",{staticStyle:{"text-align":"center"}},[c("code",[t._v("Friend")])]),t._v(" "),c("td",{staticStyle:{"text-align":"left"}},[t._v("好友对象")]),t._v(" "),c("td",{staticStyle:{"text-align":"center"}},[t._v("2.0")])]),t._v(" "),c("tr",[c("td",{staticStyle:{"text-align":"center"}},[c("code",[t._v("Stranger")])]),t._v(" "),c("td",{staticStyle:{"text-align":"left"}},[t._v("陌生人对象")]),t._v(" "),c("td",{staticStyle:{"text-align":"center"}},[t._v("2.0")])]),t._v(" "),c("tr",[c("td",{staticStyle:{"text-align":"center"}},[c("code",[t._v("Member")])]),t._v(" "),c("td",{staticStyle:{"text-align":"left"}},[t._v("群成员对象，属于一个 "),c("code",[t._v("Group")]),t._v(".")]),t._v(" "),c("td",{staticStyle:{"text-align":"center"}},[t._v("2.0")])]),t._v(" "),c("tr",[c("td",{staticStyle:{"text-align":"center"}},[c("code",[t._v("NormalMember")])]),t._v(" "),c("td",{staticStyle:{"text-align":"left"}},[t._v("普通群成员对象.")]),t._v(" "),c("td",{staticStyle:{"text-align":"center"}},[t._v("2.0")])]),t._v(" "),c("tr",[c("td",{staticStyle:{"text-align":"center"}},[c("code",[t._v("AnonymousMember")])]),t._v(" "),c("td",{staticStyle:{"text-align":"left"}},[t._v("匿名群成员对象.")]),t._v(" "),c("td",{staticStyle:{"text-align":"center"}},[t._v("2.0")])])])]),t._v(" "),c("p",[t._v("我们称 "),c("code",[t._v("Contact")]),t._v(" 为 "),c("em",[t._v("联系人")]),t._v("，它表示一个 "),c("code",[t._v("Bot")]),t._v(" 可以联系的对象。如上图所示，"),c("code",[t._v("Contact")]),t._v(" 的子类不仅有好友和群成员，还包括群和其他客户端。因此请不要因“联系人”中的“人”就认为它只代表一个用户。")]),t._v(" "),c("h2",{attrs:{id:"获取联系人对象"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#获取联系人对象"}},[t._v("#")]),t._v(" 获取联系人对象")]),t._v(" "),c("p",[c("code",[t._v("Bot.getFriends()")]),t._v("，"),c("code",[t._v("Bot.getGroups()")]),t._v(" 等方法可以获取到对象列表。")]),t._v(" "),c("p",[t._v("可通过 "),c("code",[t._v("Bot.getFriend")]),t._v("， "),c("code",[t._v("Bot.getGroup")]),t._v("，"),c("code",[t._v("Bot.getStranger")]),t._v(" 以 QQ 号或群号主动获取某个对象。")]),t._v(" "),c("p",[t._v("可以通过事件被动获取 "),c("em",[t._v("（后文介绍）")]),t._v("。")]),t._v(" "),c("h2",{attrs:{id:"联系人对象唯一且属于-bot"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#联系人对象唯一且属于-bot"}},[t._v("#")]),t._v(" 联系人对象唯一且属于 Bot")]),t._v(" "),c("p",[t._v("每个联系人对象都属于一个 "),c("code",[t._v("Bot")]),t._v("。可以通过 "),c("code",[t._v("Contact.bot")]),t._v(" 获取到它们所属的 "),c("code",[t._v("Bot")]),t._v("。")]),t._v(" "),c("p",[t._v("对于同一个 "),c("code",[t._v("Bot")]),t._v("，不会有 "),c("code",[t._v("id")]),t._v(" 相同的两个 "),c("code",[t._v("Group")]),t._v(" 对象。通过 "),c("code",[t._v("Bot.getGroup")]),t._v(" 得到的和在群消息事件得到的相同 "),c("code",[t._v("id")]),t._v(" 的 "),c("code",[t._v("Group")]),t._v(" 对象是同一个。")]),t._v(" "),c("p",[t._v("若应用同时登录多个 "),c("code",[t._v("Bot")]),t._v("，不同 "),c("code",[t._v("Bot")]),t._v(" 的 "),c("code",[t._v("id")]),t._v(" 相同的 "),c("code",[t._v("Group")]),t._v(" 也是互相独立的。")]),t._v(" "),c("h2",{attrs:{id:"常用功能"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#常用功能"}},[t._v("#")]),t._v(" 常用功能")]),t._v(" "),c("p",[t._v("基于面向对象的设计，可直接获取 "),c("code",[t._v("Contact")]),t._v(" 的属性如 "),c("code",[t._v("nick")]),t._v("，"),c("code",[t._v("permission")]),t._v("。请在实践时在接口源码内查看更清晰的说明。")]),t._v(" "),c("h3",{attrs:{id:"接收消息"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#接收消息"}},[t._v("#")]),t._v(" 接收消息")]),t._v(" "),c("p",[t._v("消息通过事件被动接收。事件将在下一章节 "),c("RouterLink",{attrs:{to:"/Events.html"}},[t._v("Events")]),t._v(" 讲解。")],1),t._v(" "),c("h3",{attrs:{id:"主动发送消息"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#主动发送消息"}},[t._v("#")]),t._v(" 主动发送消息")]),t._v(" "),c("p",[t._v("获取到目标对象并调用 "),c("code",[t._v("Contact.sendMessage(message)")]),t._v("。如要向某个群发送消息，则需要对应的 "),c("code",[t._v("Group")]),t._v(" 对象，并调用 "),c("code",[t._v("Group.sendMessage(message)")]),t._v("。")]),t._v(" "),c("p",[t._v("注意，由于对象代表意义不同，发送的消息类型也可能不同。"),c("code",[t._v("NormalMember")]),t._v(" 是普通群成员，"),c("code",[t._v("NormalMember.sendMessage")]),t._v(" 是对群成员发送临时会话消息，而 "),c("code",[t._v("Friend.sendMessage")]),t._v(" 是发送好友消息。（备注：在实际情况下，如果机器人与群成员有好友关系，"),c("code",[t._v("NormalMember.sendMessage")]),t._v(" 也会自动转换为发送好友消息，以保证消息送达）")]),t._v(" "),c("h3",{attrs:{id:"联系其他客户端"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#联系其他客户端"}},[t._v("#")]),t._v(" 联系其他客户端")]),t._v(" "),c("p",[t._v("一个 QQ 账号可以在多个客户端登录，mirai 支持向其他客户端收发消息. 其他客户端被抽象为 "),c("code",[t._v("OtherClient")]),t._v("。")]),t._v(" "),c("p",[t._v("可以通过 "),c("code",[t._v("Bot.getOtherClients()")]),t._v(" 获取到所有在线的其他客户端列表，并使用 "),c("code",[t._v("OtherClient.sendMessage")]),t._v(" 来发送消息，这与操作普通好友类似。")]),t._v(" "),c("h3",{attrs:{id:"使用戳一戳"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#使用戳一戳"}},[t._v("#")]),t._v(" 使用戳一戳")]),t._v(" "),c("p",[t._v("戳一戳的被动接收与消息的接收相同，也是以事件的形式（"),c("code",[t._v("NudgeEvent")]),t._v("）。")]),t._v(" "),c("p",[t._v("要发起戳一戳，使用 "),c("code",[t._v("Contact.nudge()")]),t._v(" 创建一个戳一戳动作（"),c("code",[t._v("Nudge")]),t._v("）然后将其发送到目标用户或群（"),c("code",[t._v("Nudge.sendTo")]),t._v("）。")]),t._v(" "),c("h3",{attrs:{id:"操作群成员禁言和移除"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#操作群成员禁言和移除"}},[t._v("#")]),t._v(" 操作群成员禁言和移除")]),t._v(" "),c("p",[t._v("使用 "),c("code",[t._v("Member.mute")]),t._v(", "),c("code",[t._v("Member.unmute")]),t._v(", "),c("code",[t._v("Member.kick")]),t._v("。")]),t._v(" "),c("h3",{attrs:{id:"提及群成员"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#提及群成员"}},[t._v("#")]),t._v(" 提及群成员")]),t._v(" "),c("p",[t._v("提及（"),c("code",[t._v("@")]),t._v("）群成员在 mirai 属于 "),c("em",[t._v("消息")]),t._v(" 的范畴。将在后面章节介绍。")]),t._v(" "),c("h3",{attrs:{id:"其他功能"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#其他功能"}},[t._v("#")]),t._v(" 其他功能")]),t._v(" "),c("p",[t._v("其他功能与上述类似，都作为成员方法位于目标对象中。未在成员方法或类注释中出现的其他功能即为目前还没有支持的功能。")]),t._v(" "),c("hr"),t._v(" "),c("blockquote",[c("p",[t._v("下一步，"),c("RouterLink",{attrs:{to:"/Events.html"}},[t._v("Events")])],1),t._v(" "),c("p",[c("RouterLink",{attrs:{to:"/CoreAPI.html"}},[t._v("回到 Mirai 文档索引")])],1)])])}),[],!1,null,null,null);e.default=a.exports}}]);