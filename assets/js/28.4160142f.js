(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{404:function(t,s,n){"use strict";n.r(s);var a=n(49),e=Object(a.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"mirai-console-configuring-projects"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mirai-console-configuring-projects"}},[t._v("#")]),t._v(" Mirai Console - Configuring Projects")]),t._v(" "),n("p",[t._v("配置 Mirai Console 项目。")]),t._v(" "),n("h2",{attrs:{id:"模块说明"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#模块说明"}},[t._v("#")]),t._v(" 模块说明")]),t._v(" "),n("p",[t._v("Mirai Console 分前后端模块实现。开发插件"),n("strong",[t._v("只需要针对同一个后端开发")]),t._v("，便可以运行在所有前端。")]),t._v(" "),n("p",[t._v("现有的前端如下所示。你不需要下载它们，因为插件的开发都是通用的。")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("mirai-console-terminal")]),t._v(": JVM 终端前端，适合在测试环境或服务器运行。")]),t._v(" "),n("li",[n("a",{attrs:{href:"https://github.com/mzdluo123/MiraiAndroid",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("MiraiAndroid")]),n("OutboundLink")],1),t._v(": Android 应用前端，可兼容大部分 Mirai Console 插件。")]),t._v(" "),n("li",[n("a",{attrs:{href:"https://github.com/sonder-joker/mirai-compose",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("mirai-compose")]),n("OutboundLink")],1),t._v(": 跨平台桌面图形前端，拥有可视化管理。正处于测试阶段。")])]),t._v(" "),n("h2",{attrs:{id:"选择版本"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#选择版本"}},[t._v("#")]),t._v(" 选择版本")]),t._v(" "),n("p",[n("code",[t._v("mirai-console")]),t._v(" 与 "),n("code",[t._v("mirai-core")]),t._v(" "),n("strong",[t._v("同步版本")]),t._v("\n发布。版本号见 "),n("RouterLink",{attrs:{to:"/docs/ConfiguringProjects.html#选择版本"}},[t._v("mirai")]),t._v("\n。")],1),t._v(" "),n("p",[t._v("通常使用最新版本的稳定版本即可。")]),t._v(" "),n("h2",{attrs:{id:"配置项目"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置项目"}},[t._v("#")]),t._v(" 配置项目")]),t._v(" "),n("p",[t._v("请选择以下四种方法之一。不推荐使用 Maven 构建 Mirai Console 插件。")]),t._v(" "),n("h3",{attrs:{id:"a-使用项目创建工具"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#a-使用项目创建工具"}},[t._v("#")]),t._v(" A.使用项目创建工具")]),t._v(" "),n("p",[t._v("Mirai 为 IntelliJ IDEA 或 Android Studio\n提供插件: "),n("RouterLink",{attrs:{to:"/docs/Preparations.html#安装-ide-插件"}},[t._v("安装方法")])],1),t._v(" "),n("p",[t._v("之后便可在新建项目时选择 "),n("code",[t._v("Mirai")]),t._v("\n，将会自动套用 "),n("a",{attrs:{href:"https://github.com/project-mirai/mirai-console-plugin-template",target:"_blank",rel:"noopener noreferrer"}},[t._v("模板项目"),n("OutboundLink")],1),t._v("。")]),t._v(" "),n("p",[n("img",{attrs:{src:"ConfiguringProjects_images/6d010b1a.png",alt:""}})]),t._v(" "),n("p",[n("img",{attrs:{src:"ConfiguringProjects_images/a6a3b24b.png",alt:""}})]),t._v(" "),n("blockquote",[n("p",[t._v("现在你已经配置好了项目，开始阅读 "),n("RouterLink",{attrs:{to:"/docs/CoreAPI.html"}},[t._v("Core 开发文档")]),t._v(" 或 "),n("RouterLink",{attrs:{to:"/console/#mirai-console"}},[t._v("Console 开发文档")])],1)]),t._v(" "),n("h3",{attrs:{id:"b-使用模板项目"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#b-使用模板项目"}},[t._v("#")]),t._v(" B.使用模板项目")]),t._v(" "),n("p",[t._v("Mirai 鼓励插件开发者将自己的作品开源，并为此提供了模板项目。")]),t._v(" "),n("p",[t._v("注意，模板项目依赖的版本号不一定是最新的。请自行替换。")]),t._v(" "),n("ol",[n("li",[n("p",[t._v("访问 "),n("a",{attrs:{href:"https://github.com/project-mirai/mirai-console-plugin-template",target:"_blank",rel:"noopener noreferrer"}},[t._v("mirai-console-plugin-template"),n("OutboundLink")],1)])]),t._v(" "),n("li",[n("p",[t._v('点击绿色按钮 "Use this template"，创建项目')])]),t._v(" "),n("li",[n("p",[t._v("克隆项目，检查并修改生成的属性")])])]),t._v(" "),n("blockquote",[n("p",[t._v("现在你已经配置好了项目，开始阅读 "),n("RouterLink",{attrs:{to:"/docs/CoreAPI.html"}},[t._v("Core 开发文档")]),t._v(" 或 "),n("RouterLink",{attrs:{to:"/console/#mirai-console"}},[t._v("Console 开发文档")])],1)]),t._v(" "),n("h3",{attrs:{id:"c-使用-gradle-插件配置项目"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#c-使用-gradle-插件配置项目"}},[t._v("#")]),t._v(" C.使用 Gradle 插件配置项目")]),t._v(" "),n("p",[n("code",[t._v("VERSION")]),t._v(": "),n("a",{attrs:{href:"#%E9%80%89%E6%8B%A9%E7%89%88%E6%9C%AC"}},[t._v("选择版本")])]),t._v(" "),n("p",[t._v("若使用 "),n("code",[t._v("build.gradle.kts")]),t._v(":")]),t._v(" "),n("div",{staticClass:"language-kotlin line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-kotlin"}},[n("code",[t._v("plugins "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("kotlin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"jvm"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" version "),n("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.5.10"')])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("kotlin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"plugin.serialization"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" version "),n("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.5.10"')])]),t._v("\n    \n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("id")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"net.mamoe.mirai-console"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" version "),n("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"VERSION"')])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br")])]),n("p",[t._v("若使用 "),n("code",[t._v("build.gradle")]),t._v(":")]),t._v(" "),n("div",{staticClass:"language-groovy line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-groovy"}},[n("code",[t._v("plugins "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    id "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'org.jetbrains.kotlin.jvm'")]),t._v(" version "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1.5.10'")]),t._v("\n    id "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'org.jetbrains.kotlin.plugin.serialization'")]),t._v(" version "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1.5.10'")]),t._v("\n    \n    id "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'net.mamoe.mirai-console'")]),t._v(" version "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'VERSION'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br")])]),n("p",[t._v("完成。Mirai Console Gradle 插件会为你配置依赖等所有编译环境。")]),t._v(" "),n("p",[t._v("可以在 "),n("a",{attrs:{href:"https://github.com/mamoe/mirai/tree/dev/mirai-console/tools/gradle-plugin/README.md#mirai-console-gradle-plugin",target:"_blank",rel:"noopener noreferrer"}},[t._v("README"),n("OutboundLink")],1),t._v(" 获取详细的 Gradle 插件使用方法。")]),t._v(" "),n("blockquote",[n("p",[t._v("现在你已经配置好了项目，开始阅读 "),n("RouterLink",{attrs:{to:"/docs/CoreAPI.html"}},[t._v("Core 开发文档")]),t._v(" 或 "),n("RouterLink",{attrs:{to:"/console/#mirai-console"}},[t._v("Console 开发文档")])],1)]),t._v(" "),n("h3",{attrs:{id:"d-手动配置项目"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#d-手动配置项目"}},[t._v("#")]),t._v(" D.手动配置项目")]),t._v(" "),n("p",[t._v("不推荐这种方式，因为通常还需要配置一些不容易配置的编译器参数。")]),t._v(" "),n("p",[t._v("添加依赖：")]),t._v(" "),n("p",[n("code",[t._v("build.gradle.kts")]),t._v(" 或 "),n("code",[t._v("build.gradle")]),t._v("：")]),t._v(" "),n("div",{staticClass:"language-kotlin line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-kotlin"}},[n("code",[t._v("dependencies "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("compileOnly")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"net.mamoe:mirai-core:')]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("$")]),n("span",{pre:!0,attrs:{class:"token expression"}},[t._v("CORE_VERSION")])]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// mirai-core 的 API")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("compileOnly")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"net.mamoe:mirai-console:')]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("$")]),n("span",{pre:!0,attrs:{class:"token expression"}},[t._v("CONSOLE_VERSION")])]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 后端")]),t._v("\n  \n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("testImplementation")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"net.mamoe:mirai-console-terminal:')]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("$")]),n("span",{pre:!0,attrs:{class:"token expression"}},[t._v("CONSOLE_VERSION")])]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 前端, 用于启动测试")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br")])]),n("p",[t._v("注意，在打包插件时必须将依赖一并打包进插件 JAR，且排除 "),n("code",[t._v("mirai-core")]),t._v("，"),n("code",[t._v("mirai-console")]),t._v(" 和"),n("a",{attrs:{href:"https://mvnrepository.com/artifact/net.mamoe/mirai-core-jvm/2.4.0",target:"_blank",rel:"noopener noreferrer"}},[t._v("它们的间接依赖"),n("OutboundLink")],1),t._v("，否则可能导致兼容性问题。")]),t._v(" "),n("blockquote",[n("p",[t._v("现在你已经配置好了项目，开始阅读 "),n("RouterLink",{attrs:{to:"/docs/CoreAPI.html"}},[t._v("Core 开发文档")]),t._v(" 或 "),n("RouterLink",{attrs:{to:"/console/#mirai-console"}},[t._v("Console 开发文档")])],1)])])}),[],!1,null,null,null);s.default=e.exports}}]);